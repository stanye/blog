<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>夜夜空里</title>
  <icon>https://www.gravatar.com/avatar/b8358bf23e74d35bc5437cdf331dcfd8</icon>
  <subtitle>StanYe&#39;s blog</subtitle>
  <link href="/blog/atom.xml" rel="self"/>
  
  <link href="https://www.stanye.com/blog/"/>
  <updated>2019-10-24T14:23:27.033Z</updated>
  <id>https://www.stanye.com/blog/</id>
  
  <author>
    <name>Stan Ye</name>
    <email>xiaocooshy@foxmail.com</email>
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>何为低代码平台</title>
    <link href="https://www.stanye.com/blog/2019/10/09/what-is-low-code-platform.html"/>
    <id>https://www.stanye.com/blog/2019/10/09/what-is-low-code-platform.html</id>
    <published>2019-10-09T12:42:55.000Z</published>
    <updated>2019-10-24T14:23:27.033Z</updated>
    
    <content type="html"><![CDATA[<p>what is low code platform ？<br><a id="more"></a></p><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>  从去年年底开始，公司提出了一个构想，通过拖拽各种组件的方式，快速生成页面，满足普遍性的需求，同时缩短开发的人力成本。<br>  于是从年初开始，我一直在做一个内部的“低代码”的平台, 代号叫<code>“lego”</code>.</p><h2 id="什么是“低代码”"><a href="#什么是“低代码”" class="headerlink" title="什么是“低代码”"></a>什么是“低代码”</h2><blockquote><p>低代码开发平台，是指那些无需编码或通过少量代码就可以快速生成应用程序的工具，其一方面可以降低企业应用开发人力成本，另一方面可以将原有数月甚至数年的开发时间成倍缩短，从而帮助企业实现降本增效、灵活迭代的价值。<br>  本段出自<a href="https://36kr.com/p/5237729" target="_blank" rel="noopener">36kr</a></p></blockquote><p>  我的解释：有一群专业的人做了一个很<code>cooooool</code>的<code>《我的世界》</code>，让不会写代码的人也能做出别人羡慕的<code>《别人的世界》</code></p><h2 id="Lego"><a href="#Lego" class="headerlink" title="Lego"></a>Lego</h2><h3 id="前身"><a href="#前身" class="headerlink" title="前身"></a>前身</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2019/10/24/EliFIgN8BQd5PXO.png" alt="培训宝-移动学习配置" title="">                </div>                <div class="image-caption">培训宝-移动学习配置</div>            </figure><p>我在的上家公司（没准马上是EXEX家），需要做一个给用户自定义移动端主页的功能。<br>一阵开发之后，前端用jQuery实现组件选择、配置，提交保存给后端。后端我用PHP分门别类，将每个数据，每个类型存在不同表里面。移动端用户进入页面，读取配置，用Vue按配置的顺序渲染页面。<br>至于配置的时候实时预览呢？iframe套移动端页面 + iframe.reload()</p><p>技术栈：jQuery + PHP + Mysql + Vue</p><h3 id="Demo"><a href="#Demo" class="headerlink" title="Demo"></a>Demo</h3><p>年初我在当前公司也提出了这个构想。老大说让试试看，但是仅限于前端部分，让我可以脱离后端来完成（可行性试验阶段，不需要完整开发）。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2019/10/24/APtjsFJ2Brhln5K.png" alt="页面配置" title="">                </div>                <div class="image-caption">页面配置</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2019/10/24/b5FKPlhGRd67SX1.png" alt="页面预览" title="">                </div>                <div class="image-caption">页面预览</div>            </figure><p>算是实现了一个页面配置，一个页面展示。那时候公司业务正如火如荼，这个demo让大家萌生了很多概念，觉得非常cooooool~~</p><p>技术栈：React + AntD + localStorage + <del>koa</del>（后废弃，发现完整实现前后端有点费工时）</p><h3 id="Lego-1"><a href="#Lego-1" class="headerlink" title="Lego"></a>Lego</h3><h4 id="JSON配置文件"><a href="#JSON配置文件" class="headerlink" title="JSON配置文件"></a>JSON配置文件</h4><p>首先我们定义了JSON配置文件，类似json schema，老大称之为Lego DSL（Lego领域特定语言）。</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">一切配置的最终目标是生成这份JSON.</span><br><span class="line">一切渲染是以这份JSON为基础.</span><br><span class="line">一切组件和行为库要满足JSON的数据格式与规范.</span><br></pre></td></tr></table></figure><blockquote><p>这是lego的血</p></blockquote><h4 id="核心渲染引擎Lego-core"><a href="#核心渲染引擎Lego-core" class="headerlink" title="核心渲染引擎Lego/core"></a>核心渲染引擎Lego/core</h4><p><code>@lego/core</code>就是一个引擎库, 外部import lego/core以后，通过react-router的render，加上传入配置，最终渲染出页面。</p>  <figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">...</span><br><span class="line"><span class="keyword">import</span> &#123;Lego&#125; <span class="keyword">from</span> <span class="string">'@lego/core'</span>;</span><br><span class="line">...</span><br><span class="line">&lt;Route path=<span class="string">"/page"</span> render=&#123;() =&gt; <span class="xml"><span class="tag">&lt;<span class="name">Lego</span> <span class="attr">legoNamespace</span>=<span class="string">"components"</span> <span class="attr">legoId</span>=<span class="string">"components"</span> /&gt;</span>&#125; /&gt;</span></span><br></pre></td></tr></table></figure><blockquote><p>这是lego的心</p></blockquote><h4 id="组件库Lego-component"><a href="#组件库Lego-component" class="headerlink" title="组件库Lego/component"></a>组件库Lego/component</h4><p>通过对<code>Ant Design</code>二次封装，配置出了满足lego/core要求的组件库。</p><blockquote><p>可以显示隐藏、可以监听数据变化<br>这是lego的身体</p></blockquote><h4 id="组件库Lego-behavior"><a href="#组件库Lego-behavior" class="headerlink" title="组件库Lego/behavior"></a>组件库Lego/behavior</h4><p>有了样子（component）还不够，还要有行为。这个页面进来要干什么，这个组件要干什么，某个值发生变化的时候怎么影响另一个值？</p><blockquote><p>这是lego的魂</p></blockquote><p>有了以上几个部件，到五月份的时候，通过手写一段合乎我们规范的JSON文件，已经可以生成一个页面。<br>我们内部做了分享，定下来接下来的GUI计划。</p><p>技术栈：Dva、Lodash、Ant Design</p><h3 id="Lego-Canvas"><a href="#Lego-Canvas" class="headerlink" title="Lego-Canvas"></a>Lego-Canvas</h3><p>Lego的配置平台</p><h4 id="Canvas"><a href="#Canvas" class="headerlink" title="Canvas"></a>Canvas</h4><p>画布，也就是所谓的实时预览。最开始的iframe + iframe.reload, 后来通过dva（redux状态管理）做到了动态无缝加载（类似Hmr）。</p><h4 id="ComponentTree"><a href="#ComponentTree" class="headerlink" title="ComponentTree"></a>ComponentTree</h4><p>组件树。展示了当前页面所有组件的嵌套。基于Ant Design Tree组件。</p><h4 id="ComponentConfig"><a href="#ComponentConfig" class="headerlink" title="ComponentConfig"></a>ComponentConfig</h4><p>组件配置。前期整理的Component库，每个配置项都通过Ant Design Form实现表单配置。<br>行为配置？由RYZ同学通过D3,把一个个非常复杂的逻辑用圈和线连接的方式，给画了出来，有点像流程图的感觉。</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2019/10/24/k1qhRHu2KFMZ3AS.png" alt="Lego-canvas" title="">                </div>                <div class="image-caption">Lego-canvas</div>            </figure><p>我们也实现了<code>组件之间的复杂联动</code>, <code>禁用启用</code>, <code>自定义组件</code></p><h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>做这个项目耗费了差不多三个季度，然尔期间公司业务转GIS、Bim、G3d，我做这个项目最需要的场景，已经不复存在了。</p><h3 id="我脑补中的“竞品”"><a href="#我脑补中的“竞品”" class="headerlink" title="我脑补中的“竞品”"></a>我脑补中的“竞品”</h3><ul><li><a href="https://www.yunfengdie.com/" target="_blank" rel="noopener">云凤蝶</a></li><li><a href="https://ice.work/" target="_blank" rel="noopener">飞冰</a></li><li><a href="http://lugia.tech/#/" target="_blank" rel="noopener">Lugia</a></li><li><a href="https://uformjs.org" target="_blank" rel="noopener">UForm</a></li><li><a href="https://github.com/daycool/gen" target="_blank" rel="noopener">Gen</a></li><li><a href="https://github.com/page-pipepline/pipeline-editor" target="_blank" rel="noopener">pipeline</a></li></ul><h3 id="部分参考资料"><a href="#部分参考资料" class="headerlink" title="部分参考资料"></a>部分参考资料</h3><ul><li><a href="https://github.com/CntChen/cntchen.github.io/issues/15" target="_blank" rel="noopener">https://github.com/CntChen/cntchen.github.io/issues/15</a></li><li><a href="https://yq.aliyun.com/articles/112472?utm_content=m_24509" target="_blank" rel="noopener">https://yq.aliyun.com/articles/112472?utm_content=m_24509</a></li><li><a href="https://juejin.im/pin/5d4966b751882564daa2f60d" target="_blank" rel="noopener">https://juejin.im/pin/5d4966b751882564daa2f60d</a></li></ul><h3 id="To-be-continued"><a href="#To-be-continued" class="headerlink" title="To be continued"></a>To be continued</h3>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;what is low code platform ？&lt;br&gt;
    
    </summary>
    
      <category term="产品设计" scheme="https://www.stanye.com/blog/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="PM" scheme="https://www.stanye.com/blog/tags/PM/"/>
    
  </entry>
  
  <entry>
    <title>同步git本地分支和远程分支</title>
    <link href="https://www.stanye.com/blog/2019/07/29/sync-git-local-branch-with-remote-branch.html"/>
    <id>https://www.stanye.com/blog/2019/07/29/sync-git-local-branch-with-remote-branch.html</id>
    <published>2019-07-29T02:28:32.000Z</published>
    <updated>2019-07-29T02:35:19.600Z</updated>
    
    <content type="html"><![CDATA[<p>git branch的时候看到一大堆分支，感觉想全部干掉.<br><a id="more"></a></p><h2 id="查看分支"><a href="#查看分支" class="headerlink" title="查看分支"></a>查看分支</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">// all</span><br><span class="line">git branch -a</span><br><span class="line">// local</span><br><span class="line">git branch</span><br><span class="line">// remote</span><br><span class="line">git branch -r</span><br></pre></td></tr></table></figure><h2 id="查看本地分支和追踪情况"><a href="#查看本地分支和追踪情况" class="headerlink" title="查看本地分支和追踪情况"></a>查看本地分支和追踪情况</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote show origin</span><br></pre></td></tr></table></figure><p>  出现<code>stale (use &#39;git remote prune&#39; to remove)</code></p><h2 id="删除远程上的"><a href="#删除远程上的" class="headerlink" title="删除远程上的"></a>删除远程上的</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git remote prune origin</span><br></pre></td></tr></table></figure><h2 id="删除本地的"><a href="#删除本地的" class="headerlink" title="删除本地的"></a>删除本地的</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">// 正常操作 强制删除用-D</span><br><span class="line">git branch -d lalala</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;git branch的时候看到一大堆分支，感觉想全部干掉.&lt;br&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="git" scheme="https://www.stanye.com/blog/tags/git/"/>
    
      <category term="git branch" scheme="https://www.stanye.com/blog/tags/git-branch/"/>
    
  </entry>
  
  <entry>
    <title>mac更新系统引发apache403问题</title>
    <link href="https://www.stanye.com/blog/2019/07/19/how-to-fix-apache-403.html"/>
    <id>https://www.stanye.com/blog/2019/07/19/how-to-fix-apache-403.html</id>
    <published>2019-07-19T07:18:32.000Z</published>
    <updated>2019-07-19T07:27:49.247Z</updated>
    
    <content type="html"><![CDATA[<p>今天无意中发现apache服务启动不起来，一直报403的错误。<br><a id="more"></a></p><h2 id="apache-403"><a href="#apache-403" class="headerlink" title="apache 403"></a>apache 403</h2><p>百度几个方案，都无法解决，最终在<a href="https://www.cnblogs.com/sqlsec/p/macapache.html" target="_blank" rel="noopener">Mac OS下开启自带的apache服务</a>文章里，解决：</p><blockquote><p>因为Mac版本升级导致了apache策略发生变更了，所以我们修改后还是会出现403无权访问的情况。<br>解决方法:备份原有的httpd.conf配置文件,把同级目录下的httpd.conf.pre-update 重命名为httpd.conf<br>其他配置照搬之前的（网站文档目录及端口ServerName的配置）</p></blockquote><h2 id="重启遇到的两个问题"><a href="#重启遇到的两个问题" class="headerlink" title="重启遇到的两个问题"></a>重启遇到的两个问题</h2><h3 id="AH00557-httpd-apr-sockaddr-info-get-failed-for…"><a href="#AH00557-httpd-apr-sockaddr-info-get-failed-for…" class="headerlink" title="AH00557: httpd: apr_sockaddr_info_get() failed for…"></a>AH00557: httpd: apr_sockaddr_info_get() failed for…</h3><h3 id="AH00558-httpd-Could-not-reliably-determine…"><a href="#AH00558-httpd-Could-not-reliably-determine…" class="headerlink" title="AH00558: httpd: Could not reliably determine…"></a>AH00558: httpd: Could not reliably determine…</h3><p>When restart the httpd.</p><p>Try:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo /usr/sbin/apachectl restart</span><br></pre></td></tr></table></figure><p>Don’t use:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo apachectl restart</span><br></pre></td></tr></table></figure><h3 id="为什么会出现类似的问题呢"><a href="#为什么会出现类似的问题呢" class="headerlink" title="为什么会出现类似的问题呢"></a>为什么会出现类似的问题呢</h3><p>因为你电脑装了两个不同版本的Apache</p><h3 id="如果还有问题"><a href="#如果还有问题" class="headerlink" title="如果还有问题?"></a>如果还有问题?</h3><p>修改<code>/etc/apache2/httpd.conf</code><br>将<code>#ServerName www.example.com:80</code>的注释去掉<br>可以换成自己定义的域名</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;今天无意中发现apache服务启动不起来，一直报403的错误。&lt;br&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="apache" scheme="https://www.stanye.com/blog/tags/apache/"/>
    
      <category term="MacOS" scheme="https://www.stanye.com/blog/tags/MacOS/"/>
    
      <category term="Mojave" scheme="https://www.stanye.com/blog/tags/Mojave/"/>
    
  </entry>
  
  <entry>
    <title>面试知识点整理</title>
    <link href="https://www.stanye.com/blog/2019/06/18/interview-part1.html"/>
    <id>https://www.stanye.com/blog/2019/06/18/interview-part1.html</id>
    <published>2019-06-18T05:03:25.000Z</published>
    <updated>2019-11-12T06:50:33.575Z</updated>
    
    <content type="html"><![CDATA[<p>持续更新<br><a id="more"></a></p><h2 id="CSS"><a href="#CSS" class="headerlink" title="CSS"></a>CSS</h2><h3 id="BFC是啥"><a href="#BFC是啥" class="headerlink" title="BFC是啥"></a>BFC是啥</h3><p>BFC是block format context, 块级格式化上下文</p><p>作用: 为了让内部元素和外部隔离</p><p>触发条件(什么情况下创建BFC):</p><ol><li>根元素 <code>&lt;html&gt;</code></li><li>浮动元素 <code>float</code>不是<code>none</code></li><li>绝对定位 <code>position</code>是<code>absolute</code> OR <code>fixed</code></li><li><code>overflow</code>不是<code>visible</code></li><li>弹性布局<code>display: flex</code></li><li>网格布局<code>display: grid</code></li><li><code>display: flow-root</code></li></ol><p>应用: </p><ol><li>阻止margin重叠</li><li>清除浮动</li><li>自适应两栏布局</li></ol><h3 id="浮动原理及清除浮动"><a href="#浮动原理及清除浮动" class="headerlink" title="浮动原理及清除浮动"></a>浮动原理及清除浮动</h3><p>原理: <code>float</code>将元素从文档流中脱离（<code>position:absolute</code>也是脱离文档流）</p><p>清除:</p><ol><li><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">br</span>/&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">"clear: both"</span>&gt;</span><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.parent</span><span class="selector-pseudo">:after</span> &#123;</span><br><span class="line">  <span class="attribute">clear</span>: both;</span><br><span class="line">  <span class="attribute">content</span>: <span class="string">' '</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="垂直居中布局"><a href="#垂直居中布局" class="headerlink" title="垂直居中布局"></a>垂直居中布局</h3><p>1.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">transform</span>: <span class="built_in">translate</span>(-50%, -50%);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>2.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">margin-left</span>: -<span class="number">50px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>3.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: center;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>4.</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">50px</span>;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">right</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">margin</span>: auto;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="修改元素定宽"><a href="#修改元素定宽" class="headerlink" title="修改元素定宽"></a>修改元素定宽</h3><ol><li><code>max-width: 300px</code></li><li><code>width: 300px !important</code></li><li><code>scale()</code>缩放</li></ol><h3 id="懒加载Lazyload"><a href="#懒加载Lazyload" class="headerlink" title="懒加载Lazyload"></a>懒加载Lazyload</h3><p>getBoundingClientRect()</p><h3 id="opacity-0-visibility-hidden-display-none-区别"><a href="#opacity-0-visibility-hidden-display-none-区别" class="headerlink" title="opacity: 0 | visibility: hidden | display: none 区别"></a>opacity: 0 | visibility: hidden | display: none 区别</h3><p>opacity: 0 透明度0, 影响下级, 可以点击, 占空间<br>visibility: hidden 隐藏，不影响下级(下级设置可见), 占空间, 本元素重绘<br>display: none 不显示, 影响下级, 渲染不占空间, 不可点击, 造成文档回流</p><h3 id="回流和重绘"><a href="#回流和重绘" class="headerlink" title="回流和重绘"></a>回流和重绘</h3><h3 id="多行省略"><a href="#多行省略" class="headerlink" title="多行省略"></a>多行省略</h3><p>1.<br>单行<br><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.box</span> &#123;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">text-overflow</span>: ellipsis;</span><br><span class="line">  <span class="comment">/* 单行 */</span></span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="comment">/* 多行 */</span></span><br><span class="line">  <span class="attribute">display</span>: -webkit-box;</span><br><span class="line">  <span class="attribute">-webkit-line-clamp</span>: <span class="number">2</span>;</span><br><span class="line">  <span class="attribute">-webkit-box-orient</span>: vertical;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><ol start="2"><li>string截取<br>str.slice()<br>str.substring()</li></ol><h3 id="盒模型"><a href="#盒模型" class="headerlink" title="盒模型"></a>盒模型</h3><p>box-sizing: border-box(IE盒模型) | content-box(标准盒模型)</p><h2 id="Vue"><a href="#Vue" class="headerlink" title="Vue"></a>Vue</h2><h3 id="MVVM"><a href="#MVVM" class="headerlink" title="MVVM"></a>MVVM</h3><h3 id="vue-transition"><a href="#vue-transition" class="headerlink" title="vue-transition"></a>vue-transition</h3><h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><h3 id="虚拟DOM-virtual-Dom"><a href="#虚拟DOM-virtual-Dom" class="headerlink" title="虚拟DOM(virtual Dom)"></a>虚拟DOM(virtual Dom)</h3><p>虚拟DOM是真实DOM的内存表示，UI的表示形式存在内存里，与实际DOM同步。</p><h3 id="class组件和function组件区别"><a href="#class组件和function组件区别" class="headerlink" title="class组件和function组件区别"></a>class组件和function组件区别</h3><p>class组件：<br>  使用必须在声明后<br>  无状态组件和状态组件<br>  有<code>this</code>内部属性<br>  内部为严格模式<br>  内部属性不可枚举<br>function组件：<br>  无<code>state</code>,<br>  无生命周期,<br>  没有<code>this</code></p><h3 id="React-Hook"><a href="#React-Hook" class="headerlink" title="React Hook"></a>React Hook</h3><h3 id="和的区别"><a href="#和的区别" class="headerlink" title="和的区别"></a><link>和<a>的区别</a></h3><p><code>&lt;Link&gt;</code><br>利用diff算法，局部更新，减少了DOM的性能消耗，静态跳转<br><code>&lt;a&gt;</code><br>重新渲染，<br><code>router</code><br>动态跳转</p><h3 id="合成事件和原生事件的区别"><a href="#合成事件和原生事件的区别" class="headerlink" title="合成事件和原生事件的区别"></a>合成事件和原生事件的区别</h3><p>合成事件是最终绑定在document上，简化了DOM操作和内存开销<br>有自己的SyntheticEvent<br>冒泡阶段中的事件触发，中断的话只能用preventDefault<br>stopPropagation 不能中断</p><h3 id="异常捕获"><a href="#异常捕获" class="headerlink" title="异常捕获"></a>异常捕获</h3><ol><li>react ComponentDidCatch</li><li>window.onerror</li><li>try catch</li></ol><h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><h3 id="1-2-3-map-parseInt-1-2-3-filter-parseInt"><a href="#1-2-3-map-parseInt-1-2-3-filter-parseInt" class="headerlink" title="[1, 2, 3].map(parseInt) || [1, 2, 3].filter(parseInt)"></a>[1, 2, 3].map(parseInt) || [1, 2, 3].filter(parseInt)</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].map(<span class="built_in">parseInt</span>);</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">1</span>, <span class="number">0</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">2</span>, <span class="number">1</span>) <span class="comment">// NaN</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">// NaN</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [1, NaN, NaN]</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>].filter(<span class="built_in">parseInt</span>);</span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">1</span>, <span class="number">0</span>) <span class="comment">// 1</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">2</span>, <span class="number">1</span>) <span class="comment">// NaN ==&gt; false</span></span><br><span class="line"><span class="built_in">parseInt</span>(<span class="number">3</span>, <span class="number">2</span>) <span class="comment">// NaN ==&gt; false</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// [1]</span></span><br></pre></td></tr></table></figure><h3 id="防抖和节流"><a href="#防抖和节流" class="headerlink" title="防抖和节流"></a>防抖和节流</h3><h4 id="防抖"><a href="#防抖" class="headerlink" title="防抖"></a>防抖</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">debounce</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">...args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> context = <span class="keyword">this</span>;</span><br><span class="line">    <span class="keyword">if</span> (timer) clearTimeout(timer);</span><br><span class="line"></span><br><span class="line">    setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">      fn.apply(context, args);</span><br><span class="line">    &#125;, delay)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="节流"><a href="#节流" class="headerlink" title="节流"></a>节流</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">throttle</span>(<span class="params">fn, delay</span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">return</span> <span class="function"><span class="keyword">function</span>(<span class="params">..args</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> context = <span class="keyword">this</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!timer) &#123;</span><br><span class="line">      timer = setTimeout(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">        fn.apply(context, args);</span><br><span class="line">        timer = <span class="literal">null</span>;</span><br><span class="line">      &#125;, delay);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Set-Map-WeakSet-WeakMap"><a href="#Set-Map-WeakSet-WeakMap" class="headerlink" title="Set | Map | WeakSet | WeakMap"></a>Set | Map | WeakSet | WeakMap</h3><p>Set 集合 值唯一<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Set</span>.length === <span class="number">0</span> </span><br><span class="line"><span class="built_in">Set</span>.prototype.add</span><br><span class="line"><span class="built_in">Set</span>.prototype.clear</span><br><span class="line"><span class="built_in">Set</span>.prototype.delete</span><br><span class="line"><span class="built_in">Set</span>.prototype.entries</span><br><span class="line"><span class="built_in">Set</span>.prototype.forEach</span><br><span class="line"><span class="built_in">Set</span>.prototype.has</span><br><span class="line"><span class="built_in">Set</span>.prototype.value</span><br></pre></td></tr></table></figure></p><p>WeakSet 只能放对象引用，不能放值, 不可枚举，弱引用<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">WeakSet</span>.prototype.add</span><br><span class="line"><span class="built_in">WeakSet</span>.prototype.clear</span><br><span class="line"><span class="built_in">WeakSet</span>.prototype.delete</span><br><span class="line"><span class="built_in">WeakSet</span>.prototype.has</span><br></pre></td></tr></table></figure></p><p>Map 字典, 初始化可以放二元数组, 键名可以任意值（Object只能放<code>string</code>和<code>Symbol</code>）<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">Map</span>.prototype.size</span><br><span class="line"><span class="built_in">Map</span>.prototype.clear</span><br><span class="line"><span class="built_in">Map</span>.prototype.delete</span><br><span class="line"><span class="built_in">Map</span>.prototype.entries</span><br><span class="line"><span class="built_in">Map</span>.prototype.forEach</span><br><span class="line"><span class="built_in">Map</span>.prototype.get</span><br><span class="line"><span class="built_in">Map</span>.prototype.set</span><br></pre></td></tr></table></figure></p><p>WeakMap 键名必须是对象，弱引用，不可枚举，故时间复杂度低<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">WeakMap</span>.prototype.has</span><br><span class="line"><span class="built_in">WeakMap</span>.prototype.get</span><br><span class="line"><span class="built_in">WeakMap</span>.prototype.set</span><br><span class="line"><span class="built_in">WeakMap</span>.prototype.delete</span><br></pre></td></tr></table></figure></p><h3 id="数组去重"><a href="#数组去重" class="headerlink" title="数组去重"></a>数组去重</h3><p>const arr = [1, 2, 1, 4, 3];</p><ol><li><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newArr = <span class="built_in">Array</span>.from(<span class="keyword">new</span> <span class="built_in">Set</span>(arr))</span><br></pre></td></tr></table></figure></li></ol><p>2.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newArr = [...new <span class="built_in">Set</span>(arr)]</span><br></pre></td></tr></table></figure></p><p>3.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> newArr = [];</span><br><span class="line"><span class="keyword">let</span> map = <span class="keyword">new</span> <span class="built_in">Map</span>();</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  <span class="keyword">if</span> (map.has(arr[i])) &#123;</span><br><span class="line">    map.set(arr[i], <span class="literal">true</span>);</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">else</span> &#123;</span><br><span class="line">    map.set(arr[i], <span class="literal">false</span>);</span><br><span class="line">    newArr.push(arr[i]);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><p>4.<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> newArr = [];</span><br><span class="line"><span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">  !newArr.includes(arr[i]) &amp;&amp; newArr.push(arr[i])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="for…of-for…in"><a href="#for…of-for…in" class="headerlink" title="for…of || for…in"></a>for…of || for…in</h3><h3 id="隐式转换"><a href="#隐式转换" class="headerlink" title="隐式转换"></a>隐式转换</h3><h3 id="严格模式"><a href="#严格模式" class="headerlink" title="严格模式"></a>严格模式</h3><h3 id="原型prototype"><a href="#原型prototype" class="headerlink" title="原型prototype"></a>原型prototype</h3><h3 id="柯里化"><a href="#柯里化" class="headerlink" title="柯里化"></a>柯里化</h3><p>柯里化：暂存，等到参数长度为0的时候执行</p><h3 id="判断类型的几个方法"><a href="#判断类型的几个方法" class="headerlink" title="判断类型的几个方法"></a>判断类型的几个方法</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a;</span><br><span class="line"><span class="comment">// typeof</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">typeof</span> <span class="literal">null</span> <span class="comment">// "object"</span></span><br><span class="line"><span class="keyword">typeof</span> []   <span class="comment">// "object"</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// instanceof 判断构造函数的原型是否在对象的原型链上</span></span><br><span class="line"><span class="keyword">var</span> a = [];</span><br><span class="line">a <span class="keyword">instanceof</span> <span class="built_in">Array</span> <span class="comment">// true</span></span><br><span class="line"><span class="comment">// Object.prototype.toSting法对于自定义的构造函数仍然无效</span></span><br><span class="line"><span class="built_in">Object</span>.prototype.toSting.call</span><br><span class="line"><span class="built_in">Reflect</span>.apply(<span class="built_in">Object</span>.prototype.toSting, <span class="literal">null</span> , []);</span><br><span class="line"></span><br><span class="line"><span class="built_in">Array</span>.isArray()</span><br><span class="line">nodeType === <span class="number">1</span> 元素</span><br></pre></td></tr></table></figure><h3 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h3><p>原始类型<br><code>Number</code> <code>String</code> <code>Null</code> <code>Undefined</code> <code>Boolean</code> <code>Symbol</code> <code>BigInt</code><br>Number 最大2^53<br>BigInt 大于2^53  111111111n 后缀<code>n</code>表示bigint<br>引用类型<br><code>object</code></p><h4 id="null和undefined区别"><a href="#null和undefined区别" class="headerlink" title="null和undefined区别"></a>null和undefined区别</h4><p>null 描述空值，对象的值未设定, 空指针， typeof null === ‘object’<br>undefined 预定义的全局变量，表示未定义</p><h3 id="模块化"><a href="#模块化" class="headerlink" title="模块化"></a>模块化</h3><ul><li><p>IIFE(立即执行函数)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">(<span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)()</span><br></pre></td></tr></table></figure></li><li><p>AMD</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">define(<span class="string">'./index.js'</span>, <span class="function"><span class="keyword">function</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>CMD</p></li><li>CommonJS</li><li>ES6 Modules</li></ul><h3 id="如何编写可复用组件"><a href="#如何编写可复用组件" class="headerlink" title="如何编写可复用组件"></a>如何编写可复用组件</h3><h4 id="组件构成"><a href="#组件构成" class="headerlink" title="组件构成"></a>组件构成</h4><p>props<br>events<br>slots</p><h4 id="组件间通信"><a href="#组件间通信" class="headerlink" title="组件间通信"></a>组件间通信</h4><h4 id="无关业务"><a href="#无关业务" class="headerlink" title="无关业务"></a>无关业务</h4><p>命名不能包含业务，最好有自己独立的命名空间<br>只负责UI和交互，内部只处理数据，不获取数据<br>不要从内部操作$parent<br>尽量减少对外部的依赖（不要过分拆分一个功能）<br>数据扁平化，不要依赖一个对象什么的<br>不要太复杂，越简单越容易复用</p><h3 id="正则表达式"><a href="#正则表达式" class="headerlink" title="正则表达式"></a>正则表达式</h3><h4 id="表达式"><a href="#表达式" class="headerlink" title="表达式"></a>表达式</h4><p><code>\</code> 转义<br><code>^</code> 起始 当在[]集合中出现表示非<br><code>$</code> 结尾<br><code>*</code> 匹配前一个表达式0次或多次 <code>{0, }</code><br><code>+</code> 匹配前一个表达式1次或多次 <code>{1, }</code><br><code>?</code> 匹配前一个表达式0次或1次 <code>{0, 1}</code><br><code>.</code> 匹配除换行符之外的任何单个字符<br><code>(x)</code> 捕获括号<br><code>(?:x)</code> 非捕获括号<br><code>x|y</code> 匹配x或y<br>先行断言 <code>x(?=y)</code><br>后行断言 <code>(?&lt;=y)x</code><br><code>{n}</code> 匹配前面字符出现n次<br><code>[xyz]</code> 字符集<br><code>[^xyz]</code> 反向字符集<br><code>\b</code> 匹配一个词的边界<br><code>\d</code> 匹配一个数字 <code>[0-9]</code><br><code>\D</code> 匹配一个非数字 <code>[^0-9]</code><br><code>\s</code> 匹配一个空白<br><code>\S</code> 匹配一个非空白<br><code>\w</code> 匹配一个单字字符（字母、数字或者下划线）<code>[A-Za-z0-9_]</code><br><code>\W</code> 匹配一个非单字字符<code>[^A-Za-z0-9_]</code><br><code>\n</code> 返回捕获的第n个</p><h4 id="方法"><a href="#方法" class="headerlink" title="方法"></a>方法</h4><p><code>exec</code> <code>match</code> <code>test</code> <code>matchAll</code> <code>replace</code> <code>split</code></p><h4 id="标志"><a href="#标志" class="headerlink" title="标志"></a>标志</h4><p><code>g</code> 全局<br><code>i</code> 不区分大小写<br><code>s</code> 多行</p><h3 id="浮点数运算"><a href="#浮点数运算" class="headerlink" title="浮点数运算"></a>浮点数运算</h3><p>0.1 + 0.2 === 0.3 // false</p><p>0.1 + 0.2 // 0.30000000000000004</p><p>相加会先转二进制，浮点数转二进制无穷。由于64位双精度浮点数的小数部分最多支持53位二进制位</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="number">0.1</span>, b = <span class="number">0.2</span>;</span><br><span class="line"><span class="keyword">var</span> res = (a * <span class="number">10</span> + b * <span class="number">10</span>) / <span class="number">10</span>;</span><br></pre></td></tr></table></figure><p>toFixed()</p><h3 id="cookie-localStorage-sessionStorage"><a href="#cookie-localStorage-sessionStorage" class="headerlink" title="cookie | localStorage | sessionStorage"></a>cookie | localStorage | sessionStorage</h3><p>cookie 4kb<br>安全性：Cookie被截获（抓包）、泄露（解析后）、XSS（利用script获取cookie）、csrf(跨站访问)</p><ol><li>HTTPS</li><li>JWT（signature）</li><li>过滤脚本</li></ol><h3 id="inline-block间隙"><a href="#inline-block间隙" class="headerlink" title="inline-block间隙"></a>inline-block间隙</h3><p>原理：inline-block是把元素放一行，但是由于有换行符，导致中间有空隙</p><ol><li>font-size：0</li><li>两个子元素一行</li><li>float，要清除浮动</li></ol><h3 id="new到底是什么"><a href="#new到底是什么" class="headerlink" title="new到底是什么"></a>new到底是什么</h3><p>new是一个运算符，调用构造函数Function来创建函数，创建对象实例</p><h3 id="Cat-继承-Animal"><a href="#Cat-继承-Animal" class="headerlink" title="Cat 继承 Animal"></a>Cat 继承 Animal</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Animal</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  </span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1 改写Cat为class</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 2 构造函数绑定</span></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">Cat</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> args = <span class="built_in">Array</span>.prototype.slice.call(<span class="built_in">arguments</span>);</span><br><span class="line">  Animal.apply(<span class="keyword">this</span>, args);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3</span></span><br><span class="line">Cat.prototype = Animal.prototype;</span><br><span class="line">Cat.prototype.constructor = Cat;</span><br></pre></td></tr></table></figure><h3 id="this指向"><a href="#this指向" class="headerlink" title="this指向"></a>this指向</h3><ol><li>默认调用（插件当前调用环境）</li><li>隐式调用（谁调用指向谁）</li><li>显示绑定 call apply bind</li><li>new绑定 this指向new出来的对象</li><li>箭头函数的this（查找函数所处的作用域）</li></ol><h3 id="辣鸡回收机制"><a href="#辣鸡回收机制" class="headerlink" title="辣鸡回收机制"></a>辣鸡回收机制</h3><p>gc回收机制 garbage collection</p><p>堆（Heap）放对象</p><ol><li>引用计数<ol><li>计数器为0就被回收</li><li>计数器占空间</li><li>循环引用无法回收</li></ol></li><li>标记清除（无法到达的回收掉）</li></ol><h3 id="优化"><a href="#优化" class="headerlink" title="优化"></a>优化</h3><ol><li>合并循环中的DOM操作</li><li>合并样式操作</li><li>先脱离文档流，操作完成再放回去</li><li>事件委托，每个元素的事件绑定放到父节点上</li><li>减少资源大小html、css、js、图片压缩</li><li>减少请求次数（1.图片合并 2.公共库合并 3. 不同页面单独合并）</li><li>合理使用缓存（CDN、http缓存）</li><li>模块按需加载</li><li>资源懒加载</li><li>资源预加载</li><li>CommonsChunkPlugin webpack4移除。splitChunks</li><li>动态导入 import</li><li>tree shaking 也就是uglifyjs</li><li>多域名增加请求次数</li><li>js放在底部</li><li>减少回流（重排）和重绘</li><li>defer async</li></ol><h3 id="Promise"><a href="#Promise" class="headerlink" title="Promise"></a>Promise</h3><h4 id="async-await"><a href="#async-await" class="headerlink" title="async/await"></a>async/await</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">async</span> <span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">await</span> fn();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// [return value] = await expression;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// expression: 一个promise对象或者任意返回值</span></span><br><span class="line"><span class="comment">// return value 返回处理结果，如果不是Promise对象，返回该值本身</span></span><br></pre></td></tr></table></figure><p><code>await</code> 表达式会暂停当前 async function 的执行，等待 Promise 处理完成。<br><code>await</code> 是一个让出线程的标志, 后面的函数会执行;<br>看后面函数的返回值，如果返回不是promise，则继续执行async函数后面的代码，哪怕外面已经有任务队列在排队;<br>否则将返回的promise，放入microtask队列, 然后等待promise任务队列执行完之后，再执行await后面的代码</p><h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><h3 id="entry"><a href="#entry" class="headerlink" title="entry"></a>entry</h3><p>单页面入口<br>多页面入口</p><h3 id="output"><a href="#output" class="headerlink" title="output"></a>output</h3><p>输出<br>也可以分多个</p><h3 id="Loader"><a href="#Loader" class="headerlink" title="Loader"></a>Loader</h3><p>处理源文件<br>不同格式转换成识别的css和js</p><p><code>babel-loader</code><br><code>css-loader</code> 处理css文件中的url()<br><code>style-loader</code> 将.css代码插入html里<code>&lt;style&gt;</code><br><code>stylus-loader</code><br><code>less-loader</code> 处理less文件<br><code>postCss</code> 预处理css文件</p><h3 id="Plugins"><a href="#Plugins" class="headerlink" title="Plugins"></a>Plugins</h3><h4 id="HTMLWebpackPlugin"><a href="#HTMLWebpackPlugin" class="headerlink" title="HTMLWebpackPlugin"></a>HTMLWebpackPlugin</h4><p>根据html模板生成目标文件</p><h4 id="HMR"><a href="#HMR" class="headerlink" title="HMR"></a>HMR</h4><p>开发环境动态更新</p><h4 id="压缩，优化，缓存，分离css和js"><a href="#压缩，优化，缓存，分离css和js" class="headerlink" title="压缩，优化，缓存，分离css和js"></a>压缩，优化，缓存，分离css和js</h4><p>ExtractTextWebpackPlugin 提取文件s</p><h3 id="babel"><a href="#babel" class="headerlink" title="babel"></a>babel</h3><h4 id="babel-preset-env"><a href="#babel-preset-env" class="headerlink" title="@babel/preset-env"></a>@babel/preset-env</h4><p>预设设置环境，加载core-js</p><h4 id="babel-runtime-和-babel-polyfill"><a href="#babel-runtime-和-babel-polyfill" class="headerlink" title="babel-runtime 和 babel-polyfill"></a>babel-runtime 和 babel-polyfill</h4><p>7.4以前 polyfill就是runtime + corejs<br>7.4以后 core-js代替了polyfill</p><p>babel/runtime </p><ol><li>生成不污染全局和内置对象原型的代码</li><li>帮助函数移出冗余函数</li></ol><h3 id="取消异步请求"><a href="#取消异步请求" class="headerlink" title="取消异步请求"></a>取消异步请求</h3><ol><li>XHR xhr.abort()</li><li>jQuery.ajax ajax.abort()</li><li>axios axios.cancelToken.source()</li><li>fetch AbortController</li></ol><h2 id="设计模式"><a href="#设计模式" class="headerlink" title="设计模式"></a>设计模式</h2><h3 id="发布-订阅模式（Sub-Pub）"><a href="#发布-订阅模式（Sub-Pub）" class="headerlink" title="发布-订阅模式（Sub-Pub）"></a>发布-订阅模式（Sub-Pub）</h3><ol><li>创建一个对象，作缓存列表</li><li>on方法订阅，将callback函数加入列表</li><li>emit方法发布，根据arguments里第一个参数当做key，根据key值去执行缓存列表函数</li><li>remove根据key值取消订阅</li></ol><blockquote><p>node里的EventEmitter就是一个典型的观察-订阅模式</p></blockquote><h3 id="观察者模式（Observer"><a href="#观察者模式（Observer" class="headerlink" title="观察者模式（Observer)"></a>观察者模式（Observer)</h3><p>当对象存在1对多关系时，使用观察者模式</p><p>观察者模式有两个角色，一个是<code>Subject</code>, 一个是<code>Observer</code> </p><h4 id="现代浏览器自带的观察者"><a href="#现代浏览器自带的观察者" class="headerlink" title="现代浏览器自带的观察者"></a>现代浏览器自带的观察者</h4><ol><li><code>IntersectionObserver</code> 交叉观察者<ol><li>观察一个元素在视窗是否可见</li><li>懒加载(getBoundingClientRect() 返回元素的大小及其相对于可视窗口的位置,Scroll 和 Resize 事件, <code>getBoundingClientRect</code>会引起页面回流)</li><li>视频在可见区域自动播放</li><li><code>observe</code> <code>disconnect</code></li></ol></li><li><code>MutationObserver</code> 变动观察者<ol><li>异步触发</li></ol></li><li><code>ResizeObserver</code> 视图观察者</li><li><code>PerformanceObserver</code> 性能观察者</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;持续更新&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="interview" scheme="https://www.stanye.com/blog/tags/interview/"/>
    
      <category term="javascript" scheme="https://www.stanye.com/blog/tags/javascript/"/>
    
  </entry>
  
  <entry>
    <title>如何开发油猴脚本来block掘金用户</title>
    <link href="https://www.stanye.com/blog/2019/05/14/how-to-develop-tampermonkey.html"/>
    <id>https://www.stanye.com/blog/2019/05/14/how-to-develop-tampermonkey.html</id>
    <published>2019-05-14T15:32:51.000Z</published>
    <updated>2019-05-21T09:28:49.170Z</updated>
    
    <content type="html"><![CDATA[<blockquote><p>随着掘金用户不断增加，或多或少遇到”钢筋”用户。秉着眼不见为净的原则，在官方没有出屏蔽功能的情况下，利用油猴实现block用户。</p></blockquote><h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><ol><li>浏览器安装<a href="https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo" target="_blank" rel="noopener">Tampermonkey</a>扩展</li><li>访问脚本网站<a href="https://greasyfork.org/zh-CN/scripts/383029-juejin-gangjin-block" target="_blank" rel="noopener">greasyfork.org</a>安装本扩展</li><li>点击页面上脚本扩展的<code>block</code>按钮</li><li><a href="https://github.com/stanye/UserScripts" target="_blank" rel="noopener">https://github.com/stanye/UserScripts</a> 欢迎提issue和PR</li></ol><a id="more"></a><h2 id="实现方法"><a href="#实现方法" class="headerlink" title="实现方法"></a>实现方法</h2><blockquote><p>根据用户id用<code>jQuery</code>remove相关DOM<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">`.username[href="/user/<span class="subst">$&#123;id&#125;</span>"]`</span>).parents(<span class="string">'.item'</span>).remove();</span><br></pre></td></tr></table></figure></p></blockquote><h3 id="Tampermonkey中使用jQuery"><a href="#Tampermonkey中使用jQuery" class="headerlink" title="Tampermonkey中使用jQuery"></a>Tampermonkey中使用jQuery</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// @require      https://code.jquery.com/jquery-3.3.1.min.js</span><br></pre></td></tr></table></figure><h3 id="只针对掘金站点"><a href="#只针对掘金站点" class="headerlink" title="只针对掘金站点"></a>只针对掘金站点</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">// @include      /^https?:\/\/(\w+\.)?juejin\.im\//</span><br></pre></td></tr></table></figure><h3 id="用户id"><a href="#用户id" class="headerlink" title="用户id"></a>用户id</h3><blockquote><p>以我的为例 <a href="https://juejin.im/user/58f56b4b0ce463006bc084eb" target="_blank" rel="noopener">https://juejin.im/user/58f56b4b0ce463006bc084eb</a><br><code>58f56b4b0ce463006bc084eb</code>就是id</p></blockquote><h3 id="存储和读取blockList"><a href="#存储和读取blockList" class="headerlink" title="存储和读取blockList"></a>存储和读取blockList</h3><p><img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab9112c6ba6f23?w=1234&amp;h=874&amp;f=png&amp;s=202863" alt=""><br>使用<code>localStorage</code>操作, 不做赘述</p><h3 id="在页面中加按钮"><a href="#在页面中加按钮" class="headerlink" title="在页面中加按钮"></a>在页面中加按钮</h3><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab751cc7adb0f6?w=428&h=228&f=png&s=20765" alt="dropdown-menu" title="">                </div>                <div class="image-caption">dropdown-menu</div>            </figure><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab90f9321dfd97?w=482&h=381&f=png&s=17999" alt="action-box" title="">                </div>                <div class="image-caption">action-box</div>            </figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> actionBox = $(<span class="string">'.user-info-block .action-box'</span>);</span><br><span class="line"><span class="keyword">if</span> (actionBox.has(<span class="string">'.big-block-btn'</span>).length === <span class="number">0</span>) &#123;</span><br><span class="line">    actionBox.append(<span class="string">`&lt;button <span class="subst">$&#123;scope&#125;</span> class="follow-btn btn big-block-btn" style="color: red;"&gt;Block&lt;/button&gt;`</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="scope样式问题"><a href="#scope样式问题" class="headerlink" title="scope样式问题"></a>scope样式问题</h3><p>掘金用了vue的scope，用jQuery新增的内容想要套用原来的样式需要获取到scope生成的hash</p><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab916e6a259310?w=358&h=150&f=png&s=25415" alt="" title="">                </div>                <div class="image-caption"></div>            </figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> scope = $(<span class="string">'.user-info-block .action-box'</span>)[<span class="number">0</span>].attributes.item(<span class="number">0</span>).nodeName;</span><br></pre></td></tr></table></figure><h3 id="给按钮增加点击事件"><a href="#给按钮增加点击事件" class="headerlink" title="给按钮增加点击事件"></a>给按钮增加点击事件</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$(<span class="string">'#juejin'</span>).on(<span class="string">'click'</span>, <span class="string">'.block-btn'</span>, block);</span><br></pre></td></tr></table></figure><h3 id="jQuery获取dom早于vue请求数据并渲染"><a href="#jQuery获取dom早于vue请求数据并渲染" class="headerlink" title="jQuery获取dom早于vue请求数据并渲染"></a>jQuery获取dom早于vue请求数据并渲染</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 分页</span></span><br><span class="line">$(<span class="built_in">window</span>).on(<span class="string">'scroll'</span>, () =&gt; &#123;</span><br><span class="line">    startClear();</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// 第一次</span></span><br><span class="line">setTimeout(startClear, <span class="number">1000</span>);</span><br></pre></td></tr></table></figure><blockquote><p>暂时没好想法,先<code>setTimeout</code>和<code>scroll</code></p></blockquote><h2 id="发布"><a href="#发布" class="headerlink" title="发布"></a>发布</h2><h3 id="利用github的Webhooks同步发布到greasyfork"><a href="#利用github的Webhooks同步发布到greasyfork" class="headerlink" title="利用github的Webhooks同步发布到greasyfork"></a>利用github的Webhooks同步发布到greasyfork</h3><ol><li><a href="https://greasyfork.org/en/import" target="_blank" rel="noopener">初始化import脚本</a></li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab9188f8539c4a?w=1552&h=676&f=png&s=185967" alt="初始化import脚本" title="">                </div>                <div class="image-caption">初始化import脚本</div>            </figure><ol start="2"><li><a href="https://greasyfork.org/en/users/webhook-info" target="_blank" rel="noopener">开启webhook并应用</a></li></ol><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://user-gold-cdn.xitu.io/2019/5/15/16ab9197d3331b25?w=1888&h=730&f=png&s=150873" alt="开启webhook并应用" title="">                </div>                <div class="image-caption">开启webhook并应用</div>            </figure><blockquote><p>按提示在github仓库的<code>settings</code> -&gt; <code>webhooks</code>创建hook, 每次仓库更新就会同步更新到greasyfork</p></blockquote><h2 id="小结"><a href="#小结" class="headerlink" title="小结"></a>小结</h2><blockquote><p>本意只是脑子一闪而过的idea，并付诸实现。</p></blockquote><blockquote><p>良好的社区气氛还是需要大家共同努力的。</p></blockquote><h3 id="TODO"><a href="#TODO" class="headerlink" title="TODO"></a>TODO</h3><ol><li>覆盖掘金全站的block脚本</li><li>针对某条回复的block</li><li>blockList管理</li><li>代码不够优雅，需要去掉硬编码</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;blockquote&gt;
&lt;p&gt;随着掘金用户不断增加，或多或少遇到”钢筋”用户。秉着眼不见为净的原则，在官方没有出屏蔽功能的情况下，利用油猴实现block用户。&lt;/p&gt;
&lt;/blockquote&gt;
&lt;h2 id=&quot;使用&quot;&gt;&lt;a href=&quot;#使用&quot; class=&quot;headerlink&quot; title=&quot;使用&quot;&gt;&lt;/a&gt;使用&lt;/h2&gt;&lt;ol&gt;
&lt;li&gt;浏览器安装&lt;a href=&quot;https://chrome.google.com/webstore/detail/tampermonkey/dhdgffkkebhmkfjojejmpbldmpobfkfo&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Tampermonkey&lt;/a&gt;扩展&lt;/li&gt;
&lt;li&gt;访问脚本网站&lt;a href=&quot;https://greasyfork.org/zh-CN/scripts/383029-juejin-gangjin-block&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;greasyfork.org&lt;/a&gt;安装本扩展&lt;/li&gt;
&lt;li&gt;点击页面上脚本扩展的&lt;code&gt;block&lt;/code&gt;按钮&lt;/li&gt;
&lt;li&gt;&lt;a href=&quot;https://github.com/stanye/UserScripts&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;https://github.com/stanye/UserScripts&lt;/a&gt; 欢迎提issue和PR&lt;/li&gt;
&lt;/ol&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="tampermonkey" scheme="https://www.stanye.com/blog/tags/tampermonkey/"/>
    
      <category term="jQuery" scheme="https://www.stanye.com/blog/tags/jQuery/"/>
    
      <category term="juejin.im" scheme="https://www.stanye.com/blog/tags/juejin-im/"/>
    
  </entry>
  
  <entry>
    <title>记录博客切换成gitalk的Error/no Issues问题</title>
    <link href="https://www.stanye.com/blog/2019/05/13/switch-to-gitalk.html"/>
    <id>https://www.stanye.com/blog/2019/05/13/switch-to-gitalk.html</id>
    <published>2019-05-13T10:05:38.000Z</published>
    <updated>2019-09-06T06:24:11.114Z</updated>
    
    <content type="html"><![CDATA[<p>常见问题不做累述，记录几个配置心得<br><a id="more"></a></p><h2 id="太长不看版"><a href="#太长不看版" class="headerlink" title="太长不看版"></a>太长不看版</h2><blockquote><p>我的主域名是<code>www.stanye.com</code>, 我的博客域名是<code>www.stanye.com/blog/</code>, 虽然是给博客申请gitalk, 但是OAuth申请的时候填的的都是<code>https://www.stanye.com/</code>(对应没域名的<code>stanye.github.io</code>)</p></blockquote><h2 id="前言"><a href="#前言" class="headerlink" title="前言"></a>前言</h2><p>我的博客当前配置:</p><ol><li>使用<a href="https://hexo.io/" target="_blank" rel="noopener">hexo</a>搭建博客</li><li>使用的主题是<a href="https://github.com/yscoder/hexo-theme-indigo" target="_blank" rel="noopener">hexo-theme-indigo</a></li><li>使用的<code>valine</code>评论, 想要切换到<a href="https://github.com/gitalk/gitalk" target="_blank" rel="noopener">gitalk</a></li><li>使用了<code>github pages</code> / 使用了自己的<code>域名</code> / blog仓库<code>不是</code>github pages<code>主仓库</code></li></ol><h2 id="关于gitalk"><a href="#关于gitalk" class="headerlink" title="关于gitalk"></a>关于gitalk</h2><p>Gitalk 是一个基于 Github Issue 和 Preact 开发的评论插件。使用 Github 帐号登录，界面干净整洁，最喜欢的一点是支持 MarkDown语法</p><p>主要特性：</p><ul><li>使用 Github 登录</li><li>支持多语言 [en, zh-CN, zh-TW, es-ES, fr]</li><li>支持个人或组织</li><li>无干扰模式（设置 distractionFreeMode 为 true 开启）</li><li>快捷键提交评论 （cmd|ctrl + enter）</li><li>支持MarkDown语法</li></ul><h2 id="创建OAuth-Application"><a href="#创建OAuth-Application" class="headerlink" title="创建OAuth Application"></a>创建OAuth Application</h2><p>用github账号创建了一个账号应用, 用户授权登录gitalk, <a href="https://github.com/settings/applications/new" target="_blank" rel="noopener">点击申请</a></p><blockquote><p>以我的域名<code>stanye.com</code>为例</p></blockquote><figure class="image-bubble">                <div class="img-lightbox">                    <div class="overlay"></div>                    <img src="https://i.loli.net/2019/05/13/5cd94943e02c979364.png" alt="图片" title="">                </div>                <div class="image-caption">图片</div>            </figure><blockquote><p>我的主域名是<code>stanye.com</code>, 我的博客域名是<code>stanye.com/blog/</code>, 虽然是给博客申请gitalk, 但是这地方填写的都是<code>https://stanye.com/</code></p></blockquote><h2 id="配置"><a href="#配置" class="headerlink" title="配置"></a>配置</h2><p>因为indigo已经支持gitalk(不支持请更新到最新代码), 需要配置<code>_config.yml</code></p><blockquote><p>以我的github<code>github.com/stanye/blog</code>为例</p></blockquote><pre><code><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">gitalk:</span></span><br><span class="line">  <span class="string">//</span> <span class="string">github用户名</span></span><br><span class="line"><span class="attr">  owner:</span> <span class="string">stanye</span></span><br><span class="line">  <span class="string">//</span> <span class="string">仓库名</span></span><br><span class="line"><span class="attr">  repo:</span> <span class="string">blog</span></span><br><span class="line">  <span class="string">//</span> <span class="string">上一步OAuth</span> <span class="string">Application生成的</span></span><br><span class="line"><span class="attr">  client_id:</span> <span class="string">b7ecea36c7957fdadfb6</span></span><br><span class="line"><span class="attr">  client_secret:</span> <span class="number">95</span><span class="string">dddf9298936c42c983f727c2f40c118d30a147</span></span><br></pre></td></tr></table></figure></code></pre>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;常见问题不做累述，记录几个配置心得&lt;br&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="gitalk" scheme="https://www.stanye.com/blog/tags/gitalk/"/>
    
      <category term="hexo-indigo-theme" scheme="https://www.stanye.com/blog/tags/hexo-indigo-theme/"/>
    
      <category term="hexo" scheme="https://www.stanye.com/blog/tags/hexo/"/>
    
  </entry>
  
  <entry>
    <title>aliyun-centos-fix</title>
    <link href="https://www.stanye.com/blog/2019/04/26/aliyun-centos-fix.html"/>
    <id>https://www.stanye.com/blog/2019/04/26/aliyun-centos-fix.html</id>
    <published>2019-04-26T08:22:09.000Z</published>
    <updated>2019-05-13T08:29:46.582Z</updated>
    
    <content type="html"><![CDATA[<p>这几天体验了下安骑士, 发现裸奔有些警告, 做了一些修复.<br><a id="more"></a></p><h2 id="禁止root直接登录"><a href="#禁止root直接登录" class="headerlink" title="禁止root直接登录"></a>禁止root直接登录</h2><ol><li>创建一个账号www</li><li>修改<code>/etc/ssh/sshd_config</code>, <code>PermitRootLogin</code>改成<code>no</code></li></ol><h2 id="默认登录端口检测"><a href="#默认登录端口检测" class="headerlink" title="默认登录端口检测"></a>默认登录端口检测</h2><p>修改<code>/etc/ssh/sshd_config</code>, 去掉<code>Port 22</code>注释#，并修改22为其它值</p><h2 id="设置用户密码"><a href="#设置用户密码" class="headerlink" title="设置用户密码"></a>设置用户密码</h2><ol><li>修改<code>/etc/security/pwquality.conf</code></li><li>去掉<code>minlen</code>注释，设置最小密码长度10</li><li>去掉<code>dcredit</code>注释，设置数字位数为负数建议-1(最少包含1位数字)</li><li>去掉<code>ucredit</code>注释，设置大写字母位数为负数-1(最少包含1位大写字母)</li><li>去掉<code>lcredit</code>注释，设置小写字母位数为负数-1(最少包含1位小写字母)</li><li>去掉<code>ocredit</code>注释，设置特殊字符位数为负数-1(最少包含1位特殊字符)</li></ol><h2 id="密码时间"><a href="#密码时间" class="headerlink" title="密码时间"></a>密码时间</h2><ol><li>修改<code>/etc/login.defs</code></li><li>密码失效时间, 365天</li><li>最小间隔时间, 7天</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这几天体验了下安骑士, 发现裸奔有些警告, 做了一些修复.&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="centOS" scheme="https://www.stanye.com/blog/tags/centOS/"/>
    
      <category term="aliyun" scheme="https://www.stanye.com/blog/tags/aliyun/"/>
    
  </entry>
  
  <entry>
    <title>使用git rebase对commits进行（合并/拆分/修改作者信息）</title>
    <link href="https://www.stanye.com/blog/2019/04/04/use-git-rebase-to-combine-split-resign-your-commits.html"/>
    <id>https://www.stanye.com/blog/2019/04/04/use-git-rebase-to-combine-split-resign-your-commits.html</id>
    <published>2019-04-04T09:55:32.000Z</published>
    <updated>2019-04-26T08:50:41.966Z</updated>
    
    <content type="html"><![CDATA[<p>这几天做开源项目，项目负责人对commits要求很高，故总结了合并/拆分commits以及修改提交信息等相关.<br><a id="more"></a></p><h2 id="1-对多个commits合并"><a href="#1-对多个commits合并" class="headerlink" title="1. 对多个commits合并"></a><strong>1. 对多个commits合并</strong></h2><p>  首先查看历史信息<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git log --oneline</span><br></pre></td></tr></table></figure></p><p>  <img src="https://ws4.sinaimg.cn/large/006tNc79gy1g1qsfqgbdqj30sm04amyb.jpg" alt=""></p><p>  想合并前两条<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i Head~2</span><br><span class="line">// 或者</span><br><span class="line">git rebase -i 33bda27 // 前一条</span><br></pre></td></tr></table></figure></p><p>  <img src="https://ws4.sinaimg.cn/large/006tNc79gy1g1qshl2y4zj30w40cwtb9.jpg" alt=""></p><p>  将第二条的<code>pick</code>改成<code>squash</code><br>  <img src="https://ws2.sinaimg.cn/large/006tNc79gy1g1qsm45qlmj30oe080gn1.jpg" alt=""></p><p>  保存, 修改提交信息, 再保存，查看<code>git log --oneline</code>, 确认修改完成<br>  <img src="https://ws4.sinaimg.cn/large/006tNc79gy1g1qsrwrseij30n0042gme.jpg" alt=""></p><p>  使用<code>git push</code>提交（视情况加<code>-f</code>force）</p><h2 id="2-对单个commits拆分"><a href="#2-对单个commits拆分" class="headerlink" title="2. 对单个commits拆分"></a><strong>2. 对单个commits拆分</strong></h2><p>  以合并的结果做拆分演示<br>  <img src="https://ws4.sinaimg.cn/large/006tNc79gy1g1qsrwrseij30n0042gme.jpg" alt=""></p><p>  想拆分第一条<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i Head~1</span><br><span class="line">// 或者</span><br><span class="line">git rebase -i 33bda27 // 前一条</span><br></pre></td></tr></table></figure></p><p>  <img src="https://ws1.sinaimg.cn/large/006tNc79gy1g1qswmccq5j30qq06ygms.jpg" alt=""></p><p>  将第一条的<code>pick</code>改成<code>edit</code>, 后保存并退出<br>  <img src="https://ws2.sinaimg.cn/large/006tNc79gy1g1qsx3nnh5j30o6086dh3.jpg" alt=""></p><p>  发现此时属于rebase阶段<br>  <img src="https://ws1.sinaimg.cn/large/006tNc79gy1g1qt1h5nv2j30xa07cq46.jpg" alt=""></p>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git reset HEAD^ // 拉取之后的提交到版本库的文件到暂存区, 改操作不影响工作区</span><br></pre></td></tr></table></figure><p>  <img src="https://ws1.sinaimg.cn/large/006tNc79gy1g1qt3ut291j30vw0awwgz.jpg" alt=""></p><p>  使用<code>git add</code>和<code>git commit</code>分文件进行提交, 生成不同的commits</p><p>  提交完成后使用<code>git rebase --continue</code>, 完成rebase.</p><p>  使用<code>git push</code>提交（视情况加<code>-f</code>force）</p><h2 id="3-更改作者信息"><a href="#3-更改作者信息" class="headerlink" title="3. 更改作者信息"></a><strong>3. 更改作者信息</strong></h2><p>上述rebase步骤中加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git commit --amend --author &quot;aaa &lt;bbb@cc.com&gt;&quot; // 要修改的作者名字和邮箱</span><br></pre></td></tr></table></figure></p><h2 id="4-如何rebase第一条（root）"><a href="#4-如何rebase第一条（root）" class="headerlink" title="4. 如何rebase第一条（root）"></a><strong>4. 如何rebase第一条（root）</strong></h2><p>上述rebase起始步骤中加入<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git rebase -i --root// 要修改的作者名字和邮箱</span><br></pre></td></tr></table></figure></p><p>PS：如果想修改root的提交信息呢<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git checkout &lt;sha1-of-root&gt; // checkout到第一条</span><br><span class="line"></span><br><span class="line">git commit --amend --author &quot;aaa &lt;bbb@cc.com&gt;&quot; // 要修改的作者名字和邮箱</span><br><span class="line">// OR</span><br><span class="line">git commit --amend --reset-author</span><br><span class="line"></span><br><span class="line">git rebase --onto HEAD HEAD master</span><br></pre></td></tr></table></figure></p><h2 id="5-one-more-thing"><a href="#5-one-more-thing" class="headerlink" title="5. one more thing"></a><strong>5. one more thing</strong></h2><p><code>git commit</code>加<code>-s</code>参数可以加上Signed-off-by信息</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;这几天做开源项目，项目负责人对commits要求很高，故总结了合并/拆分commits以及修改提交信息等相关.&lt;br&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="git" scheme="https://www.stanye.com/blog/tags/git/"/>
    
      <category term="git rebase" scheme="https://www.stanye.com/blog/tags/git-rebase/"/>
    
  </entry>
  
  <entry>
    <title>学习TS的一些知识点总结2</title>
    <link href="https://www.stanye.com/blog/2018/11/23/some-basic-knowledge-while-learning-typescript.html"/>
    <id>https://www.stanye.com/blog/2018/11/23/some-basic-knowledge-while-learning-typescript.html</id>
    <published>2018-11-23T08:56:26.000Z</published>
    <updated>2019-05-20T09:43:51.642Z</updated>
    
    <content type="html"><![CDATA[<p>接上一篇，学习TS对JS的一些概念的补充，ES6一些设计的趋向于<br><a id="more"></a><br>Java和PHP，有一定的亲和力</p><h2 id="类Class"><a href="#类Class" class="headerlink" title="类Class"></a>类Class</h2><ul><li>定义事物抽象特点，包含属性和方法</li><li><code>constructor</code> 构造函数, <code>new</code> 的时候自动调用</li><li><code>extends</code> 继承</li><li><code>super</code> 调用父类的构造函数和方法</li><li>实例属性ES7支持在 <code>constructor</code> 外也可以定义</li></ul><h2 id="对象Object"><a href="#对象Object" class="headerlink" title="对象Object"></a>对象Object</h2><h2 id="面向对象OOP-Object-Oriented-Programming"><a href="#面向对象OOP-Object-Oriented-Programming" class="headerlink" title="面向对象OOP(Object Oriented Programming)"></a>面向对象OOP(Object Oriented Programming)</h2><h3 id="封装Encapsulation"><a href="#封装Encapsulation" class="headerlink" title="封装Encapsulation"></a>封装Encapsulation</h3><h3 id="继承Inheritance"><a href="#继承Inheritance" class="headerlink" title="继承Inheritance"></a>继承Inheritance</h3><h3 id="多态Polymorphism"><a href="#多态Polymorphism" class="headerlink" title="多态Polymorphism"></a>多态Polymorphism</h3><h2 id="存取器-getter-amp-setter"><a href="#存取器-getter-amp-setter" class="headerlink" title="存取器(getter &amp; setter)"></a>存取器(getter &amp; setter)</h2><pre><code><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Mobile</span> </span>&#123;</span><br><span class="line">  <span class="keyword">constructor</span>(mobile) &#123;</span><br><span class="line">    <span class="keyword">this</span>.mobile = mobile;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  get mobile() &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">'iPhone6s'</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  set mobile(name) &#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'setter: '</span> + name);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> a = <span class="keyword">new</span> Mobile(<span class="string">'P10'</span>); <span class="comment">// setter: P10</span></span><br><span class="line">a.mobile = <span class="string">'P10 pro'</span>; <span class="comment">// setter: P10 pro</span></span><br><span class="line"><span class="built_in">console</span>.log(a.mobile); <span class="comment">// iPhone6s</span></span><br></pre></td></tr></table></figure></code></pre><blockquote><p>想起了之前学vue中双向绑定的原理是什么(靠Object.defineProperty() get set方法)</p></blockquote><h2 id="修饰符-Modifiers"><a href="#修饰符-Modifiers" class="headerlink" title="修饰符(Modifiers)"></a>修饰符(Modifiers)</h2><ul><li><code>static</code> 修饰静态变量(ES7)和方法(ES6)</li><li><code>TS</code> 访问修饰符(Access Modifiers): <code>public</code> 、<code>protected</code> 、 <code>private</code></li></ul><h2 id="抽象类-Abstract-Class"><a href="#抽象类-Abstract-Class" class="headerlink" title="抽象类(Abstract Class)"></a>抽象类(Abstract Class)</h2><ul><li>抽象类不允许被实例化</li><li>抽象方法必须在子类实现</li></ul><h2 id="接口-Interfaces"><a href="#接口-Interfaces" class="headerlink" title="接口(Interfaces)"></a>接口(Interfaces)</h2><ul><li>描述对象的形象(Sharp)</li><li>提取公共实现(implements)</li><li><p>接口可以继承接口</p>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Company &#123;</span><br><span class="line">  alert();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> System <span class="keyword">extends</span> Company &#123;</span><br><span class="line">  isOpenSource();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>接口可以继承类</p>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Size &#123;</span><br><span class="line">  x: <span class="built_in">number</span>;</span><br><span class="line">  y: <span class="built_in">number</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> System <span class="keyword">extends</span> Size &#123;</span><br><span class="line">  os: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h2 id="实现-implements"><a href="#实现-implements" class="headerlink" title="实现(implements)"></a>实现(implements)</h2><ul><li>公共特性提取成接口（interfaces），用 <code>implements</code> 关键字来实现</li><li><p>一个类可以有多个implements</p>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> Mobile <span class="keyword">implements</span> System, Price, Company &#123;&#125;</span><br></pre></td></tr></table></figure></li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;接上一篇，学习TS对JS的一些概念的补充，ES6一些设计的趋向于&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="javascript" scheme="https://www.stanye.com/blog/tags/javascript/"/>
    
      <category term="typescript" scheme="https://www.stanye.com/blog/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>学习TS的一些知识点总结</title>
    <link href="https://www.stanye.com/blog/2018/11/12/ts-basics.html"/>
    <id>https://www.stanye.com/blog/2018/11/12/ts-basics.html</id>
    <published>2018-11-12T06:14:26.000Z</published>
    <updated>2019-05-28T09:57:23.214Z</updated>
    
    <content type="html"><![CDATA[<p>学习TS中, 才发现js基础太差了, 学习整理ing(持续更新…)<br><a id="more"></a></p><h2 id="数据类型"><a href="#数据类型" class="headerlink" title="数据类型"></a>数据类型</h2><h3 id="原始数据类型-Primitive-data-types"><a href="#原始数据类型-Primitive-data-types" class="headerlink" title="原始数据类型(Primitive data types)"></a>原始数据类型(Primitive data types)</h3><ul><li>Number<ul><li>ES6 可以用二进制表示法<code>前缀0b（或0B）</code>例如<code>0b1010</code></li><li>ES6 可以用八进制表示法<code>0o（或0O）</code>例如<code>0o744</code><blockquote><p>用Number方法转十进制</p></blockquote></li></ul></li><li>String</li><li>Boolean<blockquote><p>boolean 是 JavaScript 中的基本类型，而 Boolean 是 JavaScript 中的构造函数</p></blockquote></li><li>Null</li><li>Undefined<blockquote><p>与 void 的区别是，undefined 和 null 是所有类型的子类型。</p></blockquote></li><li><p>Symbol (ES6新增) </p><ul><li><a href="https://developer.mozilla.org/zh-CN/docs/Glossary/Symbol" target="_blank" rel="noopener">MDN文档</a></li></ul></li><li><p>空值(Void) <code>TS中才有</code></p><ul><li>TS中用<code>void</code>表示没有任何返回值的函数</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>): <span class="title">void</span> </span>&#123;</span><br><span class="line">    <span class="built_in">console</span>.log(<span class="string">'no return'</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h3 id="对象类型-Object-types"><a href="#对象类型-Object-types" class="headerlink" title="对象类型(Object types)"></a>对象类型(Object types)</h3><h2 id="函数声明-函数声明和函数表达式"><a href="#函数声明-函数声明和函数表达式" class="headerlink" title="函数声明(函数声明和函数表达式)"></a>函数声明(函数声明和函数表达式)</h2><h3 id="Function-Declaration"><a href="#Function-Declaration" class="headerlink" title="Function Declaration"></a>Function Declaration</h3><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;a&#125;</span> is <span class="subst">$&#123;b&#125;</span>`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 上面用解构的写法如下:</span></span><br><span class="line"></span><br><span class="line">function test(&#123; a = 'default', b &#125;: &#123; a: string; b: string; &#125;): string &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;a&#125;</span> is <span class="subst">$&#123;b&#125;</span>`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><h3 id="Function-Expression"><a href="#Function-Expression" class="headerlink" title="Function Expression"></a>Function Expression</h3><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> test: <span class="function">(<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">string</span> = <span class="function"><span class="keyword">function</span> (<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;a&#125;</span> is <span class="subst">$&#123;b&#125;</span>`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><blockquote><p>ES6箭头函数和TS的箭头函数会混淆</p></blockquote><h3 id="接口的方式声明"><a href="#接口的方式声明" class="headerlink" title="接口的方式声明"></a>接口的方式声明</h3><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> StringConcatFunc &#123;</span><br><span class="line">   (a: <span class="built_in">string</span>, b: <span class="built_in">string</span>): <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> test: StringConcatFunc;</span><br><span class="line">  test = <span class="function"><span class="keyword">function</span> (<span class="params">a: <span class="built_in">string</span>, b: <span class="built_in">string</span></span>): <span class="title">string</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;a&#125;</span> is <span class="subst">$&#123;b&#125;</span>`</span>;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></code></pre><ul><li><p>可选参数必须放在必选参数后面 <code>a: string, b?: string</code></p></li><li><p>或者设置默认值和ES6类似 <code>b?: string = &#39;default&#39;, a: string</code></p><blockquote><p>此时会报错Parameter cannot have question mark and initializer.</p></blockquote><p>  需要修改成<code>b: string = &#39;default&#39;, a: string</code></p></li><li><p>支持重载，先精确定义方法，再在最后写实现</p></li></ul><h2 id="导入-导出"><a href="#导入-导出" class="headerlink" title="导入/导出"></a>导入/导出</h2><h3 id="export"><a href="#export" class="headerlink" title="export"></a>export</h3><ul><li><p>整体导出</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">module</span>.exports = aaa;</span><br></pre></td></tr></table></figure></li><li><p>单个导出</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">exports.aaa = aaa;</span><br></pre></td></tr></table></figure></li></ul><h3 id="import"><a href="#import" class="headerlink" title="import"></a>import</h3><ul><li><p>整体导入</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> aaa <span class="keyword">from</span> <span class="string">'aaa'</span>;</span><br></pre></td></tr></table></figure></li></ul><h3 id="官方推荐"><a href="#官方推荐" class="headerlink" title="官方推荐"></a>官方推荐</h3><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// import</span></span><br><span class="line"><span class="keyword">import</span> aaa = <span class="built_in">require</span>(<span class="string">'aaa'</span>);</span><br><span class="line"><span class="comment">// export</span></span><br><span class="line"><span class="keyword">export</span> = aaa;</span><br></pre></td></tr></table></figure></code></pre><h2 id="任意值-Any"><a href="#任意值-Any" class="headerlink" title="任意值(Any)"></a>任意值(Any)</h2><ul><li>允许赋值为任意类型</li><li>未指定其类型会被识别为任意值类型</li></ul><h2 id="类型推论-Type-Inference"><a href="#类型推论-Type-Inference" class="headerlink" title="类型推论(Type Inference)"></a>类型推论(Type Inference)</h2><h2 id="联合类型（Union-Types"><a href="#联合类型（Union-Types" class="headerlink" title="联合类型（Union Types)"></a>联合类型（Union Types)</h2><pre><code><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> a: <span class="built_in">number</span> | <span class="built_in">string</span>;</span><br></pre></td></tr></table></figure></code></pre><blockquote><p>只能访问所有类型里共有的属性或方法</p></blockquote><h2 id="Interfaces接口-对行为的抽象-用classes定义implements-实现"><a href="#Interfaces接口-对行为的抽象-用classes定义implements-实现" class="headerlink" title="Interfaces接口, 对行为的抽象, 用classes定义implements(实现)"></a>Interfaces接口, 对行为的抽象, 用classes定义implements(实现)</h2><ul><li>对类的行为进行抽象</li><li><p>对对象的形状进行描述</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Mobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>,</span><br><span class="line">  system: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myPhone: Mobile = &#123;</span><br><span class="line">  name: <span class="string">'iphone6s'</span>,</span><br><span class="line">  system: <span class="string">'iOS11.2'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>有点像写react的propType, 变量的形状和接口的形状一定要一致</p></blockquote></li><li><p>可选属性</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Mobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>,</span><br><span class="line">  system?: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myPhone: Mobile = &#123;</span><br><span class="line">  name: <span class="string">'iphone6s'</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>不报错</p></blockquote></li><li><p>任意属性</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Mobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>,</span><br><span class="line">  system?: <span class="built_in">string</span>,</span><br><span class="line">  [propName: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myPhone: Mobile = &#123;</span><br><span class="line">  name: <span class="string">'iphone6s'</span>,</span><br><span class="line">  price: <span class="number">5388</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>只读readonly</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> Mobile &#123;</span><br><span class="line">  readonly company: <span class="built_in">string</span>,</span><br><span class="line">  name: <span class="built_in">string</span>,</span><br><span class="line">  system?: <span class="built_in">string</span>,</span><br><span class="line">  [propName: <span class="built_in">string</span>]: <span class="built_in">any</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> myPhone: Mobile = &#123;</span><br><span class="line">  name: <span class="string">'iphone6s'</span>,</span><br><span class="line">  price: <span class="number">5388</span>,</span><br><span class="line">  company: <span class="string">'apple'</span></span><br><span class="line">&#125;</span><br><span class="line">myPhone.company = <span class="string">'nokia'</span>; <span class="comment">// error</span></span><br></pre></td></tr></table></figure></li></ul><h2 id="数组类型"><a href="#数组类型" class="headerlink" title="数组类型"></a>数组类型</h2><ul><li><p>type + 方括号</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: <span class="built_in">string</span>[] = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure></li><li><p>泛型 (Array Generic)</p><figure class="highlight typescript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> arr: <span class="built_in">Array</span>&lt;<span class="built_in">string</span>&gt; = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>]</span><br></pre></td></tr></table></figure></li><li><p>接口</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> StringArray &#123;</span><br><span class="line">  [index: <span class="built_in">number</span>]: <span class="built_in">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> arr: StringArray = [<span class="string">'1'</span>, <span class="string">'2'</span>, <span class="string">'3'</span>];</span><br></pre></td></tr></table></figure></li><li><p>any[] 表示任意数组</p></li><li><p>类数组 Array-like Object</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>(<span class="params"></span>) </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> args: IArguments = <span class="built_in">arguments</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>IArguments就是内置数组</p></blockquote></li><li><p>元组Tuple(吐槽记成了元祖, 元祖高达)</p><blockquote><p>与数组类似, 数组内有相同元素, 元组有不同类型</p></blockquote>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> test: [<span class="built_in">string</span>, <span class="built_in">number</span>] = [<span class="string">'1'</span>, <span class="number">2</span>];</span><br></pre></td></tr></table></figure></li></ul><h2 id="类型断言Type-Assertion"><a href="#类型断言Type-Assertion" class="headerlink" title="类型断言Type Assertion"></a>类型断言Type Assertion</h2><ul><li><p>&lt;类型&gt;值</p><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params">a: <span class="built_in">string</span> | <span class="built_in">number</span></span>) </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log((&lt;<span class="built_in">string</span>&gt;a).length);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>值 as 类型</p><blockquote><p>react必须用<code>值 as 类型</code></p></blockquote></li></ul><h2 id="泛型Generics"><a href="#泛型Generics" class="headerlink" title="泛型Generics"></a>泛型Generics</h2><blockquote><p>定义函数、接口、类的时候不指定类型，使用的时候再指定</p></blockquote><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">createArray</span>&lt;<span class="title">T</span>&gt;(<span class="params">length: <span class="built_in">number</span>, value: T</span>): <span class="title">Array</span>&lt;<span class="title">T</span>&gt; </span>&#123;</span><br><span class="line">  <span class="keyword">let</span> result: T[] = [];</span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; length; i++) &#123;</span><br><span class="line">    result[i] = value;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">test</span>&lt;<span class="title">T</span>, <span class="title">U</span>&gt;(<span class="params">a: [T, U]</span>): [<span class="title">U</span>, <span class="title">T</span>] </span>&#123;</span><br><span class="line">  <span class="keyword">return</span> [a[<span class="number">1</span>], a[<span class="number">0</span>]];</span><br><span class="line">&#125;</span><br><span class="line">​</span><br></pre></td></tr></table></figure>`&lt;T&gt;`任意类型</code></pre><h3 id="泛型约束"><a href="#泛型约束" class="headerlink" title="泛型约束"></a>泛型约束</h3>  <figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> LengthWise &#123;</span><br><span class="line">  length: <span class="built_in">number</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">countArray</span>&lt;<span class="title">T</span> <span class="title">extends</span> <span class="title">LengthWise</span>&gt;(<span class="params">args: T</span>): <span class="title">T</span> </span>&#123;</span><br><span class="line">  <span class="built_in">console</span>.log(<span class="string">'argsLength: '</span>, args.length);</span><br><span class="line">  <span class="keyword">return</span> args;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="泛型接口"><a href="#泛型接口" class="headerlink" title="泛型接口"></a>泛型接口</h3><h2 id="内置对象"><a href="#内置对象" class="headerlink" title="内置对象"></a>内置对象</h2><ul><li>ES标准<ul><li><code>Boolean</code></li><li><code>Error</code></li><li><code>Date</code></li><li><code>Regexp</code></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects" target="_blank" rel="noopener">global object</a></li><li><a href="https://github.com/Microsoft/TypeScript/tree/master/src/lib" target="_blank" rel="noopener">typescript实现</a></li></ul></li><li>DOM和BOM<ul><li><code>Document</code></li><li><code>HTMLElement</code></li><li><code>Event</code></li><li><code>NodeList</code></li><li><a href="https://github.com/Microsoft/TypeScript/tree/master/src/lib" target="_blank" rel="noopener">typescript实现</a></li></ul></li></ul><h2 id="声明"><a href="#声明" class="headerlink" title="声明"></a>声明</h2><h3 id="声明文件"><a href="#声明文件" class="headerlink" title="声明文件"></a>声明文件</h3><blockquote><p>放一个单独的文件<code>example.d.ts</code></p></blockquote><h3 id="声明的使用方式"><a href="#声明的使用方式" class="headerlink" title="声明的使用方式"></a>声明的使用方式</h3><pre><code><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明全局变量</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">var</span> a: <span class="function">(<span class="params">b: <span class="built_in">string</span></span>) =&gt;</span> <span class="built_in">any</span>;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">const</span> b;</span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">let</span> c;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局方法 支持重载</span></span><br><span class="line"><span class="keyword">declare</span> <span class="function"><span class="keyword">function</span> <span class="title">test</span> (<span class="params"></span>): <span class="title">any</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局类</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">class</span> Mobile &#123;</span><br><span class="line">  name: <span class="built_in">string</span>;</span><br><span class="line">  <span class="keyword">constructor</span>(<span class="params">name: <span class="built_in">string</span></span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">let myPhone = new Mobile('iPhone6s');</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局枚举</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">enum</span> Systems &#123;</span><br><span class="line">  iOS,</span><br><span class="line">  Android,</span><br><span class="line">  WindowsPhone,</span><br><span class="line">  Symbian</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">console</span>.log(Systems[<span class="string">"iOS"</span>] === <span class="number">0</span>); <span class="comment">// true</span></span><br><span class="line"><span class="built_in">console</span>.log(Systems[<span class="number">0</span>] === <span class="string">"iOS"</span>); <span class="comment">// true</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局对象 被ES6淘汰</span></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">namespace</span> Example &#123;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">test</span>...</span></span><br><span class="line"><span class="function">&#125;</span></span><br><span class="line"><span class="function"></span></span><br><span class="line"><span class="function">// 声明全局类型</span></span><br><span class="line"><span class="function"><span class="title">interface</span> <span class="title">test</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 声明全局类型</span></span><br><span class="line"><span class="keyword">type</span> System = <span class="built_in">string</span>;</span><br><span class="line"><span class="keyword">type</span> SystemVersion = <span class="function"><span class="params">()</span> =&gt;</span> <span class="built_in">string</span>;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// `类型别名`常用于联合类型</span></span><br><span class="line">  <span class="keyword">type</span> SystemOrVersion = System | SystemVersion;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">getSystem</span>(<span class="params">n: SystemOrVersion</span>): <span class="title">System</span> </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">typeof</span> n === <span class="string">'string'</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> n;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> n();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="comment">// 声明`字符串字面量`类型</span></span><br><span class="line">  <span class="keyword">type</span> EventNames = <span class="string">'click'</span> | <span class="string">'touch'</span> | <span class="string">'scroll'</span>;</span><br><span class="line">  <span class="function"><span class="keyword">function</span> <span class="title">handleEvent</span>(<span class="params">ele: Element, event: EventNames</span>) </span>&#123;</span><br><span class="line">      <span class="comment">// do something</span></span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 扩展全局变量</span></span><br><span class="line"><span class="keyword">declare</span> global &#123;</span><br><span class="line">  <span class="keyword">interface</span> String &#123;</span><br><span class="line">    sayYes(): <span class="built_in">string</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 扩展模块 先import再declare</span></span><br><span class="line"><span class="keyword">import</span> * <span class="keyword">as</span> aaa <span class="keyword">from</span> <span class="string">'aaa'</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">declare</span> <span class="keyword">module</span> 'aaa' &#123;</span><br><span class="line">  <span class="keyword">export</span> <span class="function"><span class="keyword">function</span> <span class="title">lalala</span>(<span class="params"></span>): <span class="title">aaa</span>.<span class="title">toArray</span>(<span class="params"></span>)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></code></pre><ul><li><p>第三方声明文件, 发布到<code>@types</code></p><blockquote><p>用@types下载 <a href="http://microsoft.github.io/TypeSearch/" target="_blank" rel="noopener">http://microsoft.github.io/TypeSearch/</a></p></blockquote>  <figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm i @types/react --save</span><br></pre></td></tr></table></figure></li><li><p><code>package.json</code>中<code>types</code>字段或者<code>index.d.ts</code></p></li><li><p>创建types目录, <code>tsconfig.json</code> 中的 <code>paths</code> 和 <code>baseUrl</code> 字段。</p><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="attr">"compilerOptions"</span>: &#123;</span><br><span class="line">    <span class="attr">"module"</span>: <span class="string">"commonjs"</span>,</span><br><span class="line">    <span class="attr">"baseUrl"</span>: <span class="string">"./"</span>,</span><br><span class="line">    <span class="attr">"paths"</span>: &#123;</span><br><span class="line">        <span class="attr">"*"</span>: [<span class="string">"types/*"</span>]</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">`</span><br></pre></td></tr></table></figure></li></ul><h3 id="声明合并"><a href="#声明合并" class="headerlink" title="声明合并"></a>声明合并</h3><ol><li>函数合并(重载)</li><li>接口合并</li></ol><h2 id="overload-重载-方法名一样，参数不一样"><a href="#overload-重载-方法名一样，参数不一样" class="headerlink" title="overload 重载(方法名一样，参数不一样)"></a>overload 重载(方法名一样，参数不一样)</h2><ul><li>js不支持重载</li><li>可以自己根据参数进行条件判断进行重载</li><li>闭包实现重载<ul><li>参考<a href="https://www.cnblogs.com/yugege/p/5539020.html" target="_blank" rel="noopener">https://www.cnblogs.com/yugege/p/5539020.html</a></li></ul></li><li>ES6带来了Proxy和Reflect可以实现重载</li></ul><h2 id="overwrite-重写"><a href="#overwrite-重写" class="headerlink" title="overwrite 重写"></a>overwrite 重写</h2><h2 id="override-覆盖"><a href="#override-覆盖" class="headerlink" title="override 覆盖"></a>override 覆盖</h2><h2 id="参考文档"><a href="#参考文档" class="headerlink" title="参考文档"></a>参考文档</h2><ol><li><a href="https://www.tslang.cn/docs/home.html" target="_blank" rel="noopener">https://www.tslang.cn/docs/home.html</a></li><li><a href="https://ts.xcatliu.com" target="_blank" rel="noopener">https://ts.xcatliu.com</a></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;学习TS中, 才发现js基础太差了, 学习整理ing(持续更新…)&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="javascript" scheme="https://www.stanye.com/blog/tags/javascript/"/>
    
      <category term="typescript" scheme="https://www.stanye.com/blog/tags/typescript/"/>
    
  </entry>
  
  <entry>
    <title>升级macOS Mojave后问题汇总及解决办法</title>
    <link href="https://www.stanye.com/blog/2018/10/23/macOS-Mojave-problems-and-solutions.html"/>
    <id>https://www.stanye.com/blog/2018/10/23/macOS-Mojave-problems-and-solutions.html</id>
    <published>2018-10-23T06:11:26.000Z</published>
    <updated>2019-04-26T08:51:24.283Z</updated>
    
    <content type="html"><![CDATA[<h2 id="搜狗"><a href="#搜狗" class="headerlink" title="搜狗"></a>搜狗</h2><pre><code>问题描述：系统升级之后发现断断续续一直鼠标在转圈解决方案：搜狗升级到`4.8`之后解决问题</code></pre><a id="more"></a><h2 id="zsh"><a href="#zsh" class="headerlink" title="zsh"></a>zsh</h2><pre><code>问题描述：升级后使用iTerm出现乱码，原生terminal没问题解决方案：iTerms2 -&gt; Preferences -&gt; Advanced -&gt; 搜索LC_CTYPE -&gt; value值设置`zh_CN.UTF-8`</code></pre><h2 id="VSCode"><a href="#VSCode" class="headerlink" title="VSCode"></a>VSCode</h2><pre><code>问题描述：字体变细解决方案：命令行输入`defaults write -g CGFontRenderingFontSmoothingDisabled -bool NO`</code></pre><h2 id="Wechat和Tim"><a href="#Wechat和Tim" class="headerlink" title="Wechat和Tim"></a>Wechat和Tim</h2><pre><code>问题描述：输入框焦点容易丢失，必须手动点击程序解决方案：升级最新版Wechat和Tim</code></pre><h2 id="Git丢失"><a href="#Git丢失" class="headerlink" title="Git丢失"></a>Git丢失</h2><pre><code>问题描述：更新后git没了解决方案：命令行输入`xcode-select –install`</code></pre><h2 id="Hexo"><a href="#Hexo" class="headerlink" title="Hexo"></a>Hexo</h2><pre><code>问题描述：写这篇文字的时候，居然发现生成的页面英文的地方被转成日文解决方案：_config.yml文件language设置`zh-Hans`</code></pre>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;搜狗&quot;&gt;&lt;a href=&quot;#搜狗&quot; class=&quot;headerlink&quot; title=&quot;搜狗&quot;&gt;&lt;/a&gt;搜狗&lt;/h2&gt;&lt;pre&gt;&lt;code&gt;问题描述：系统升级之后发现断断续续一直鼠标在转圈
解决方案：搜狗升级到`4.8`之后解决问题
&lt;/code&gt;&lt;/pre&gt;
    
    </summary>
    
      <category term="IT技巧" scheme="https://www.stanye.com/blog/categories/IT%E6%8A%80%E5%B7%A7/"/>
    
    
      <category term="MacOS" scheme="https://www.stanye.com/blog/tags/MacOS/"/>
    
      <category term="Mojave" scheme="https://www.stanye.com/blog/tags/Mojave/"/>
    
  </entry>
  
  <entry>
    <title>leetcode - 350. 两个数组的交集 II</title>
    <link href="https://www.stanye.com/blog/2018/06/06/leetcode-350-%E4%B8%A4%E4%B8%AA%E6%95%B0%E7%BB%84%E7%9A%84%E4%BA%A4%E9%9B%86-II.html"/>
    <id>https://www.stanye.com/blog/2018/06/06/leetcode-350-两个数组的交集-II.html</id>
    <published>2018-06-06T03:41:43.000Z</published>
    <updated>2019-04-11T03:08:29.353Z</updated>
    
    <content type="html"><![CDATA[<p>给定两个数组，写一个方法来计算它们的交集。<br><a id="more"></a><br>例如:</p><pre><code>给定 nums1 = [1, 2, 2, 1], nums2 = [2, 2], 返回 [2, 2].</code></pre><p>注意：</p><pre><code>- 输出结果中每个元素出现的次数，应与元素在两个数组中出现的次数一致。- 我们可以不考虑输出结果的顺序。</code></pre><p>跟进:</p><pre><code>- 如果给定的数组已经排好序呢？你将如何优化你的算法？- 如果 nums1 的大小比 nums2 小很多，哪种方法更优？- 如果nums2的元素存储在磁盘上，内存是有限的，你不能一次加载所有的元素到内存中，你该怎么办？</code></pre><p>我的答案：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums1</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums2</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> intersect = <span class="function"><span class="keyword">function</span>(<span class="params">nums1, nums2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> arr = [];</span><br><span class="line">    <span class="keyword">var</span> List = [];</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nums1.length; i++) &#123;</span><br><span class="line">        List.push(nums1[i]);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; nums2.length; i++) &#123;</span><br><span class="line">        <span class="keyword">var</span> cNum = nums2[i];</span><br><span class="line">        <span class="keyword">var</span> cIndex = List.indexOf(cNum);</span><br><span class="line">        <span class="keyword">if</span> (cIndex != <span class="number">-1</span>) &#123;</span><br><span class="line">            <span class="keyword">delete</span> List[cIndex];</span><br><span class="line">            arr.push(cNum);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> arr;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>给出的耗时最短解</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums1</span></span><br><span class="line"><span class="comment"> * @param &#123;number[]&#125; nums2</span></span><br><span class="line"><span class="comment"> * @return &#123;number[]&#125;</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">var</span> intersect = <span class="function"><span class="keyword">function</span>(<span class="params">nums1, nums2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">const</span> map=&#123;&#125;;</span><br><span class="line">    <span class="keyword">const</span> res=[];</span><br><span class="line">    nums1.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">        map[v]?map[v]++:map[v]=<span class="number">1</span>;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    nums2.forEach(<span class="function"><span class="keyword">function</span> (<span class="params">v</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(map[v])&#123;</span><br><span class="line">            res.push(v);</span><br><span class="line">            map[v]--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> res;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;给定两个数组，写一个方法来计算它们的交集。&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="leetcode" scheme="https://www.stanye.com/blog/tags/leetcode/"/>
    
      <category term="algorithm" scheme="https://www.stanye.com/blog/tags/algorithm/"/>
    
  </entry>
  
  <entry>
    <title>Skeleton Screen - 骨架屏设计</title>
    <link href="https://www.stanye.com/blog/2018/05/30/skeleton-screen.html"/>
    <id>https://www.stanye.com/blog/2018/05/30/skeleton-screen.html</id>
    <published>2018-05-30T03:00:00.000Z</published>
    <updated>2019-04-11T03:09:19.369Z</updated>
    
    <content type="html"><![CDATA[<h1 id="Skeleton-Screen"><a href="#Skeleton-Screen" class="headerlink" title="Skeleton Screen"></a>Skeleton Screen</h1><a id="more"></a><ol><li><p>陈纬杰 - 使用 Skeleton Screen 提升用户感知体验</p><p> <a href="https://cloud.tencent.com/developer/article/1006169" target="_blank" rel="noopener">https://cloud.tencent.com/developer/article/1006169</a></p></li><li><p>龙爪槐守望者 - 这个控件叫：Skeleton Screen/加载占位图</p><p> <a href="https://www.jianshu.com/p/d152e1d84296" target="_blank" rel="noopener">https://www.jianshu.com/p/d152e1d84296</a></p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h1 id=&quot;Skeleton-Screen&quot;&gt;&lt;a href=&quot;#Skeleton-Screen&quot; class=&quot;headerlink&quot; title=&quot;Skeleton Screen&quot;&gt;&lt;/a&gt;Skeleton Screen&lt;/h1&gt;
    
    </summary>
    
      <category term="产品设计" scheme="https://www.stanye.com/blog/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="skeleton screen" scheme="https://www.stanye.com/blog/tags/skeleton-screen/"/>
    
  </entry>
  
  <entry>
    <title>技术型产品经理需要了解的知识点</title>
    <link href="https://www.stanye.com/blog/2018/05/10/Technical-product-manager.html"/>
    <id>https://www.stanye.com/blog/2018/05/10/Technical-product-manager.html</id>
    <published>2018-05-10T11:11:22.000Z</published>
    <updated>2019-04-11T03:10:01.165Z</updated>
    
    <content type="html"><![CDATA[<ol><li>MVC<br>MVC是一个框架模式，它强制性的使应用程序的输入、处理和输出分开。以JAVA为例，最典型的MVC就是JSP + SERVLET+ JAVABEAN的模式。通俗的讲，程序可以有一种方式的写法，都在JSP的代码中处理所有事情。但是这样回答来极大的耦合问题，所以才去MVC模式把视觉（前台）、后台、数据库拆分开来处理。减少偶尔、增加复用性等。<a id="more"></a></li><li>URL 路由</li><li>模板<br> 一段代码经常被重复使用，我们的工程师们会把它封装成一个文件，然后在需要使用的时候去调用它。我们在设计产品的时候其实常用到这个思维，比如设计权限模块，你需要做的是把一个系统中的公司、分公司、部门等进行拆分，封装成不同的功能。</li><li>RESTful API <a href="http://www.ruanyifeng.com/blog/2014/05/restful_api" target="_blank" rel="noopener">http://www.ruanyifeng.com/blog/2014/05/restful_api</a></li><li>MySQL</li><li>Bootstrap</li><li>Redis, 用Memcached或Redis来做缓存，提高应用性能</li><li>版本管理Git、svn</li><li>Markdown</li><li>前后端分离</li><li>微信H5开发</li><li>Docker</li><li>机器学习</li><li>Chrome 调试<br>你能够感知到的一般都是你所能看到的，这些BUG都是很简单就能修复的。</li><li>CURL 测试 API</li><li>数据分析埋点</li><li>学前端不要写脚本抢月饼，学后端记得做好权限检查</li><li>http的基本原理</li><li>app和h5的区别以及通信。</li><li>web前端的基本概念。</li><li>后台的基本知识</li><li>常用的技术术语，比如SDK，插件，接口，协议等等</li><li>数据库的基础知识<br>一方面，有助于与技术的沟通及产品的实现；另一方面，特别是在创业型公司，查询后台不完善甚至压根没有，很多时候需要出数据（如了解交易量、转化率等），如果自己不会的话就得麻烦开发大哥了。但是，都很忙的。一次两次还好，次数多了早晚要被嫌弃。有人说提需求开发数据平台，在人力紧张需求优先级低的情况下谁给你开发？<br>select…from…where…group by….order by..</li><li>前端和后端的关系</li><li>HTTP与HTTPs的区别</li><li>比如get和post</li><li>比如算法到底是个啥意思</li><li>比如接口是个啥意思（天天说对接，对接什么玩意）</li><li>XML和Json都是什么</li><li>html5里有什么值得利用的新特性</li><li>他们按f12调出来的是什么、可以干什么<br>研发资源非常珍贵。</li><li>base64编码能帮你们做到什么</li><li>数据库的一些基本概念</li><li>域名、URL、IP到底都是什么。</li><li>主要是网站产品主要依靠浏览器<br>编程语言开发的php,java或者Python。<br>产品项目中使用开发框架，是团队自己研发的框架，还是使用市面上比较流行的框架。<br>其次是数据库的选择，根据你们的业务需求是使用mysql这种关系型数据库还是mongodb这类非关系型数据库<br>最后就是服务器，服务器一般关心的问题就是稳定性，安全性，还有负载了<br>根据不同需求选择服务器，使用什么样的服务器？自己管理的，还是云。<br>云的话还要了解一些云服务和产品的内容，比如RDS，负载均衡，内容分发。<br>手机APP这样的产品需求跨平台性以及其他细节问题。</li><li>技术特性技术的生命周期：<br>技术生命周期一般就2~3年，服务器操作系统生命周期会更长一些，，<br>关键问题是这个问题本身就不太现实，我们很难预测2~3年以后我们的产品的样子。<br>作为PM你不用了解具体的实现方式，开发效率和健壮性怎么样，是不是符合我现阶段产品开发的需求。</li><li>不管怎么说作为PM掌控产品全局你要知道整个项目的技术开发成本是怎样的。<br>程序员是个喜欢创造的工种，如果你只是设计好了让他们照着设计做他们会玩的很没乐趣的。要让他们也参与其中你会发现你的项目会比你想象中的进展要好。</li><li>会写代码是加分项；不了解大局上来就聊代码，是越俎代庖,你需要知道水可以用来泡茶，做汤。不需要知道水是H2O,水有哪些种类，什么水泡茶最好，什么水做汤更赞。忌不懂技术,忌懂技术.</li><li><a href="https://www.codecademy.com/zh/" target="_blank" rel="noopener">https://www.codecademy.com/zh/</a></li><li>对技术架构或某些技术问题的看法，立刻遭到赞扬：“你很懂技术嘛！”这时马上打着哈哈说：“懂个p啊，我连hello world都不会写，完全是纸上谈兵。”于是嬉笑声中，一群人把手里的箭收起来了。</li><li>产品经理懂技术 ＝ 流氓会武术。</li><li>你怎么实现我不管，我就要这个<br>这个功能不就是xxx么，你直接说要多久把<br>这次的需求很简单，只要做xxx就行了，prd你看下哈<br>你的产品架构，其实也是技术架构！一定不能乱<br>前端要做哪些？字段、样式、交互（操作前、操作中、操作后）、边界条件（字数、图片尺寸等等<br>对前端说：我们这边新增了哪几个页面，ui设计稿什么样的，交互是什么样的…前端done!<br>对后段说：我们这次的产品大逻辑什么，新增了哪些字段，最重要和复杂的逻辑是哪些，可能要哪边的接口，那边的技术已经帮你找好了….后端done!<br>对qa说：这次的迭代和之前有什么不同，最重要的测试点是什么，有哪些风险要测下，回头上线的时候跟我说下我们一起看下…qa done!</li><li><a href="http://www.cnblogs.com/dunnice/articles/2733430.html" target="_blank" rel="noopener">http://www.cnblogs.com/dunnice/articles/2733430.html</a></li><li>前端=html+css+js=&gt;结构+字段+样式+交互<br>程序=算法+数据结构<br><a href="https://www.zhihu.com/question/26743347" target="_blank" rel="noopener">https://www.zhihu.com/question/26743347</a><br><a href="https://www.zhihu.com/question/21380252" target="_blank" rel="noopener">https://www.zhihu.com/question/21380252</a><br>数据驱动产品的发展～</li><li>不同系统的兼容性问题<pre><code>不同版本的兼容性问题不同屏幕尺寸的兼容性问题android 和 ios 系统的规范android 和 ios 打包发布流程</code></pre></li><li>‘技术无法实现’的潜台词可能是<br>给的资源不够， 完成不了<br>你的优先级低， 不想给你做<br>看你不爽， 不想给你做<br>这功能太傻不应该做<br>最后才是真的技术无法实现</li><li>HTML5和NATIVE的特点和区别，哪些在微信中能做，哪些不能做</li><li>如果你知道如果将用户的操作分成0.01秒为单位的节点，并将所有的用户行为都预测出来。你就是产品经理。</li><li>在一个项目里面 产品经理看懂一个api 难道不是只要看api说明就行了 为什么要懂技术<br>你知道了 都能做什么 然后不就是你排列组合的天下了<br>如果你看的api没说明 让程序员补去</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;MVC&lt;br&gt;MVC是一个框架模式，它强制性的使应用程序的输入、处理和输出分开。以JAVA为例，最典型的MVC就是JSP + SERVLET+ JAVABEAN的模式。通俗的讲，程序可以有一种方式的写法，都在JSP的代码中处理所有事情。但是这样回答来极大的耦合问题，所以才去MVC模式把视觉（前台）、后台、数据库拆分开来处理。减少偶尔、增加复用性等。
    
    </summary>
    
      <category term="产品设计" scheme="https://www.stanye.com/blog/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="PM" scheme="https://www.stanye.com/blog/tags/PM/"/>
    
  </entry>
  
  <entry>
    <title>产品经理如何与技术沟通</title>
    <link href="https://www.stanye.com/blog/2018/05/10/communicate-with-product-manager.html"/>
    <id>https://www.stanye.com/blog/2018/05/10/communicate-with-product-manager.html</id>
    <published>2018-05-10T11:07:10.000Z</published>
    <updated>2019-04-11T03:07:51.939Z</updated>
    
    <content type="html"><![CDATA[<ol><li>产品经理应该：提出来 讲明白 说服他 验收好</li><li>核心的竞争优势就是在技术方面，这个是非技术出身的产品经理最缺的一项技能。技术出身的产品经理跟工程师沟通会比较顺畅，能够深刻体会并理解工程师的思维，提出的设计和需求也会比较接地气，因此不容易跟开发人员产生矛盾。需求策划方面，每一个需求功能点的提出，技术出身的产品经理都可以很快评估出技术实现的可行性，实现所需的大概时间，技术存在的一些风险或问题，因此可以很快将需求点落到实处，大大缩短需求到实现转化所需的周期。<a id="more"></a> </li><li>工程师的思维跟产品经理的思维，关注点和考虑问题的方式存在很大的区别。会太注重并纠结技术层面的问题，而忽视了产品经理应该关注的是整个产品项目的大局。产品前期的设计才是整个项目的重心，后面的运营推广是项目成败的关键。市场及商业嗅觉不敏感，产品设计，运营推广等领域缺乏相关的经验，这方面需要投入大量的时间去培养与磨炼，比如商业嗅觉的培养，数据运维的数据分析，营销推广的策划和布局，这些都不是一朝一夕可以练好的内功，需要基于大量的阅读学习，观察及实操后一步步磨炼出来。</li><li>在产品大方向的把握，设计细节的考量，运营推广思路上面会存在非常多的盲区，导致对整个项目的理解不够透彻</li><li>产品经理在项目推进过程中需要面对老板，工程师，设计师，测试人员，运营，市场等各个领域的人，应该学会换位思考，站在各个不同角色的人的立场去考虑问题，才能协调到更多的资源去配合你完成项目的推进工作。</li><li>不要花太多的时间去纠结或花在研究技术上面，而应该把自己的时间合理地分配到其他的技能的学习上面。产品经理是一个对综合能力要求特别高的职位，需要不断地学习，不断地吸收这个领域的知道养分。不要因为“技术”这棵小树，而放弃了产品的这座大森林。</li><li>做技术时，你经常需要面对的问题是如何解决技术难题；而做了产品，你所面对的大多数问题是如何搞定人。比如，老板提了一个不合理的需求，你应该怎么婉转地打掉；UI设计师跟你闹矛盾，你怎么让她继续配合你工作；项目资源紧缺，开发周期赶不及，你如何才能申请到更多的资源。除了知识面需要扩充好几倍外，做人做事的能力，也要迅速跟上。</li><li>找准自己的定位，分析自己之于团队的价值。沟通是一门艺术。艺术源自生活，不必刻意追求。先试着让身边的人快乐。</li><li>程序考虑问题的出发点大多是：体现自己的技术水平。 我接触的程序员喜欢用高效、简单、先进的技术手段解决问题。通常他们反驳产品都是想令代码更简单更高效，而产品却变得复杂、多步骤甚至多余。产品都希望把简单留给用户，把复杂留给开发。这是个对立面。所以程序员转产品，首先要改变自己的思维，从用户和需求出发，而不是从技术角度.  </li><li>产品工作是感性的，做出一款产品与做出一款好产品的差别无比巨大，大部分所谓的产品经理只能说在从事着一份工作而已，得到个好听又最容易被人吐槽的名头，不代表他真的很厉害.  </li><li>马化腾(Pony)，张小龙，周鸿祎都是程序员出身的、中国最优秀的互联网产品经理。只有当你跨越了傻瓜心态之后，才算是迈出了成功转型产品经理的第一步。</li><li>你永远不要假设用户是聪明的，用户的弱智程度永远超出你想象力的下限。所以，当你设计产品的界面和交互的时候，一定不要拿自己的经验去想当然，一定要假设是在给一个弱智做产品，尽量简化，让产品非常易用才行。</li><li>真正好的产品经理应该是以结果为导向的. </li><li>技术人员如果没有追求完美的心，就无法成为一个优秀的技术人员。然而带有「完美主义综合症」的产品经理是可怕的。</li><li>在这个产品经理，视觉设计，程序员共同参与的产品生产过程中，程序员是最后的环节，当程序员在代码实现的过程中发现了产品逻辑的错误，或者产品设计的问题，是非常被动的。这个时候程序员再要求产品经理更改设计，修正产品交互逻辑，产品经理通常的反应就是：「程序员又和我讨价还价，产品deadline又要延后了」，跟着双方就开始剑拔弩张的对峙。</li><li>产品经理负责搜集和定义产品需求，整理产品逻辑规则，设计产品原型稿和交互，这个阶段并不需要程序员开始写代码，但是从一开始就让程序员，运营，甚至运维工程师都参与进来</li><li>程序员从一开始就了解了产品的来龙去脉，对产品需求和产品要达到的目标非常清楚，这样在和产品经理的配合中，就非常容易理解产品经理提出的很多功能要求，沟通起来非常顺畅；程序员从一开始就参与，并且持续参与产品设计的过程，最大的好处在于从一开始就可以纠正可能出现的产品设计逻辑错误，以及评估技术难以实现的产品功能。这样等到真正进入开发阶段，研发周期是非常可控的，基本不会出现延误。一些有良好产品意识的程序员，可以帮助产品经理从一开始就完善产品逻辑，从实现上修正产品可能遇到的问题，让产品开发过程变得更加有保障。很多产品经理犯的一个重大错误就是：直到原型稿交互稿定稿之后，才交给程序员，之前全无沟通，然后逼着程序员立刻评估一个精确的开发周期。这个时候程序员内心是非常抗拒的。一来我完全不了解这个产品，不知道做这个产品是干啥的？能够解决什么问题？是否有更好的替代解决方案；二来我也不清楚这个产品逻辑是否有需要调整和修正的地方，以及有些技术上需要投入很多资源但是不划算的功能。</li><li>产品经理应该传递一个信息：产品是大家的，需要大家共同合作，一起努力把产品做好，无论是产品，视觉，研发，还是运营，大家都是为了一个共同的目标而努力。</li><li>不需要懂技术，但是逻辑要严谨</li><li>Bug修好了程序就会马上运营，程序员可以接着下一个代码的编写，但是先生生活中可能不太一样，刚吵完一架，可能就没法友好的合作了。</li><li>如果老板同意说，如果PM加需求，要么就砍掉一个差不多规模的旧的，要么就延长期限，我觉得肯定不会打起来。</li><li>戒掉“应该”，“大概”，“也许”，”我想“，”可能“这种模棱两可的词语。</li><li>to be continue</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;ol&gt;
&lt;li&gt;产品经理应该：提出来 讲明白 说服他 验收好&lt;/li&gt;
&lt;li&gt;核心的竞争优势就是在技术方面，这个是非技术出身的产品经理最缺的一项技能。技术出身的产品经理跟工程师沟通会比较顺畅，能够深刻体会并理解工程师的思维，提出的设计和需求也会比较接地气，因此不容易跟开发人员产生矛盾。需求策划方面，每一个需求功能点的提出，技术出身的产品经理都可以很快评估出技术实现的可行性，实现所需的大概时间，技术存在的一些风险或问题，因此可以很快将需求点落到实处，大大缩短需求到实现转化所需的周期。
    
    </summary>
    
      <category term="产品设计" scheme="https://www.stanye.com/blog/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="PM" scheme="https://www.stanye.com/blog/tags/PM/"/>
    
  </entry>
  
  <entry>
    <title>产品经理沟通技巧(pdf)</title>
    <link href="https://www.stanye.com/blog/2018/05/10/communicate-with-product-manager-pdf.html"/>
    <id>https://www.stanye.com/blog/2018/05/10/communicate-with-product-manager-pdf.html</id>
    <published>2018-05-10T11:07:10.000Z</published>
    <updated>2019-04-26T08:48:07.002Z</updated>
    
    <content type="html"><![CDATA[<p>之前做了《产品经理与程序员和谐相处之道》的ppt分享，此处是导出pdf格式.<br><a id="more"></a></p><p><a href="https://pan.baidu.com/s/1m3IG17ZDyrLN0RtYmQBH0A" target="_blank" rel="noopener">百度网盘提取地址</a>  提取码: <code>m5mg</code></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;之前做了《产品经理与程序员和谐相处之道》的ppt分享，此处是导出pdf格式.&lt;br&gt;
    
    </summary>
    
      <category term="产品设计" scheme="https://www.stanye.com/blog/categories/%E4%BA%A7%E5%93%81%E8%AE%BE%E8%AE%A1/"/>
    
    
      <category term="PM" scheme="https://www.stanye.com/blog/tags/PM/"/>
    
      <category term="ppt" scheme="https://www.stanye.com/blog/tags/ppt/"/>
    
  </entry>
  
  <entry>
    <title>high-concurrency-experience</title>
    <link href="https://www.stanye.com/blog/2018/04/30/high-concurrency-experience.html"/>
    <id>https://www.stanye.com/blog/2018/04/30/high-concurrency-experience.html</id>
    <published>2018-04-30T06:41:42.000Z</published>
    <updated>2019-04-30T07:09:01.648Z</updated>
    
    <content type="html"><![CDATA[<p>用户数增长，公司项目遇到并发的难题。网上学习几点如下：<br><a id="more"></a></p><h2 id="处理高并发的业务逻辑"><a href="#处理高并发的业务逻辑" class="headerlink" title="处理高并发的业务逻辑"></a>处理高并发的业务逻辑</h2><ul><li>前端: 异步请求 + 资源静态化 + cdn</li><li>后端: 请求队列 + 轮询分发 + 负载均衡 + 共享缓存</li><li>数据层: redis + 数据分表 + 写队列</li><li>存储: raid阵列 + 热备</li><li>网络: dns轮询 + DDOS防护</li></ul><p>简而言之就是分区、分表、分库，后端算法优化，公共数据缓存，服务器上负载均衡，前端减少连接数、瘦身</p><h2 id="如何学习高并发"><a href="#如何学习高并发" class="headerlink" title="如何学习高并发"></a>如何学习高并发</h2><p>redis, nginx, keeplive, DRBD, heartbeat这些工具在虚拟机上面跑起来.<br>因为有些工具运行的配置要求太高, 必须多台服务器配合才能完成. 总监那边选型TiDB，已经和老板申报了机器.</p><h2 id="模拟高并发"><a href="#模拟高并发" class="headerlink" title="模拟高并发"></a>模拟高并发</h2><p><a href="http://tengine.taobao.org/document_cn/benchmark_cn.html" target="_blank" rel="noopener">tengine</a></p><p>公司内则用php写了一些针对要测试的功能点的脚本</p><h2 id="如何向别人吹我们的系统"><a href="#如何向别人吹我们的系统" class="headerlink" title="如何向别人吹我们的系统"></a>如何向别人吹我们的系统</h2><ol><li>采用了复杂的分层方案，以保证良好的性能和水平扩展性。要点如下:</li></ol><ul><li>动静分离: 通过CDN系统分发静态资源: js, css, 图片, 音频, 视频等资源</li><li>应用集群: 通过负载均衡技术，实现的应用服务器集群，具有很高的并发处理能力和扩展性。可以根据实际需要迅速扩充服务器，部署应用之后即可直接上线提供服务。</li><li>缓存集群: 通过一致性Hash算法实现实现缓存分片，保证缓存系统的响应速度和可扩展性。通过主从复制，保证缓存系统的可靠性。</li><li>读写分离: 读写分离，保证两者都具有具有良好的性能。采用写直达技术，保证缓存和数据库数据的一致性。</li><li>数据库集群: 采用分布式数据库集群技术（垂直和水平切分技术，复制技术），保证数据库系统的性能、稳定性和可扩展性。</li><li>消息队列和辅助任务集群: 长时间运行的任务，先入队列，再由系统调度到后台任务集群中运行，可保证前端页面的响应性能，并为大型的分析作业提供运行环境，并具有很高的扩展能力。</li></ul><ol start="2"><li>充分测试:</li></ol><ul><li>持续集成: 持续的自动化测试。</li><li>压力测试: 系统功能模块在上线之前，会经过充分的性能和压力测试，只有在功能、性能和吞吐量达到预期设计指标后，才会上线运行。</li></ul><ol start="3"><li>部署和监控方案:</li></ol><ul><li>红蓝部署: 保证系统升级和发布的稳定性，出现问题时，可迅速回退。</li><li>容灾机制: 自动备份机制，降低灾难性事件（如自然灾害等）对系统的影响。</li><li>监控方案: 完善的自动监控和报警方案，可以提前发现和报告异常情况，并提醒运维团队及时处理相关问题。</li></ul>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用户数增长，公司项目遇到并发的难题。网上学习几点如下：&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="redis" scheme="https://www.stanye.com/blog/tags/redis/"/>
    
      <category term="nginx" scheme="https://www.stanye.com/blog/tags/nginx/"/>
    
  </entry>
  
  <entry>
    <title>rm-input-type-number-arrows</title>
    <link href="https://www.stanye.com/blog/2017/06/05/rm-input-type-number-arrows.html"/>
    <id>https://www.stanye.com/blog/2017/06/05/rm-input-type-number-arrows.html</id>
    <published>2017-06-05T07:18:18.000Z</published>
    <updated>2019-04-30T08:13:30.616Z</updated>
    
    <content type="html"><![CDATA[<p>移除input type=number的箭头<br><a id="more"></a></p><h2 id="css"><a href="#css" class="headerlink" title="css"></a>css</h2><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">// chrome</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-outer-spin-button</span>,</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-pseudo">::-webkit-inner-spin-button</span> &#123;</span><br><span class="line">  <span class="attribute">-webkit-appearance</span>: none <span class="meta">!important</span>;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">// firefox</span><br><span class="line"><span class="selector-tag">input</span><span class="selector-attr">[type="number"]</span> &#123;</span><br><span class="line">  <span class="attribute">-moz-appearance</span>:textfield;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="不用type-number"><a href="#不用type-number" class="headerlink" title="不用type=number"></a>不用type=number</h2><p>将<code>type=&quot;number&quot;</code>改为<code>type=&quot;tel&quot;</code>, 同样是数字键盘，但是没有箭头。</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;移除input type=number的箭头&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="css" scheme="https://www.stanye.com/blog/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>Vue更新数组状态方法</title>
    <link href="https://www.stanye.com/blog/2017/05/16/vue-update-array.html"/>
    <id>https://www.stanye.com/blog/2017/05/16/vue-update-array.html</id>
    <published>2017-05-16T06:58:53.000Z</published>
    <updated>2019-04-11T03:10:11.769Z</updated>
    
    <content type="html"><![CDATA[<p>直接修改数组检测不到变化：<br><a id="more"></a><br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">vm.Arr[index] = newItem;</span><br><span class="line">vm.Arr.length = newLength;</span><br></pre></td></tr></table></figure></p><p>由于JavaScript的限制，采用以下方法:</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// way 1</span></span><br><span class="line">Vue.set(old.Arr, index, newItem);</span><br><span class="line"><span class="comment">// way 2</span></span><br><span class="line">old.Arr.splice(index, <span class="number">1</span>, newItem);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;直接修改数组检测不到变化：&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="vue" scheme="https://www.stanye.com/blog/tags/vue/"/>
    
      <category term="array" scheme="https://www.stanye.com/blog/tags/array/"/>
    
  </entry>
  
  <entry>
    <title>mysql查重</title>
    <link href="https://www.stanye.com/blog/2017/05/03/mysql-duplicate-checking.html"/>
    <id>https://www.stanye.com/blog/2017/05/03/mysql-duplicate-checking.html</id>
    <published>2017-05-03T06:30:20.000Z</published>
    <updated>2019-04-26T08:52:07.639Z</updated>
    
    <content type="html"><![CDATA[<p>mysql查重：<br><a id="more"></a></p><h2 id="单字段"><a href="#单字段" class="headerlink" title="单字段"></a>单字段</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> mobile <span class="keyword">in</span> (<span class="keyword">select</span> mobile <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile  <span class="keyword">having</span> <span class="keyword">count</span>(mobile) &gt; <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="单字段查重删除"><a href="#单字段查重删除" class="headerlink" title="单字段查重删除"></a>单字段查重删除</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">where</span> mobile <span class="keyword">in</span> (<span class="keyword">select</span> mobile <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile   <span class="keyword">having</span> <span class="keyword">count</span>(mobile) &gt; <span class="number">1</span>) <span class="keyword">and</span> <span class="keyword">rowid</span> <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">min</span>(<span class="keyword">rowid</span>) <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile <span class="keyword">having</span> <span class="keyword">count</span>(mobile)&gt;<span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="多字段"><a href="#多字段" class="headerlink" title="多字段"></a>多字段</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> <span class="keyword">member</span> a <span class="keyword">where</span> (a.mobile,a.email) <span class="keyword">in</span> (<span class="keyword">select</span> mobile,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile,email <span class="keyword">having</span> <span class="keyword">count</span>(*) &gt; <span class="number">1</span>)</span><br></pre></td></tr></table></figure><h2 id="多字段查重删除"><a href="#多字段查重删除" class="headerlink" title="多字段查重删除"></a>多字段查重删除</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> <span class="keyword">member</span> a <span class="keyword">where</span> (a.mobile,a.email) <span class="keyword">in</span> (<span class="keyword">select</span> mobile,email <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile,email <span class="keyword">having</span> <span class="keyword">count</span>(*) &gt; <span class="number">1</span>) <span class="keyword">and</span> <span class="keyword">rowid</span> <span class="keyword">not</span> <span class="keyword">in</span> (<span class="keyword">select</span> <span class="keyword">min</span>(<span class="keyword">rowid</span>) <span class="keyword">from</span> <span class="keyword">member</span> <span class="keyword">group</span> <span class="keyword">by</span> mobile,email <span class="keyword">having</span> <span class="keyword">count</span>(*)&gt;<span class="number">1</span>)</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;mysql查重：&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="mysql" scheme="https://www.stanye.com/blog/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>php&amp;引用</title>
    <link href="https://www.stanye.com/blog/2017/04/29/php-cite.html"/>
    <id>https://www.stanye.com/blog/2017/04/29/php-cite.html</id>
    <published>2017-04-29T11:10:39.000Z</published>
    <updated>2019-04-26T08:52:25.490Z</updated>
    
    <content type="html"><![CDATA[<p>php的引用–在变量或者函数、对象等前面加上&amp;符号,允许两个变量来指向同一个内容<br><a id="more"></a><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$a = <span class="string">"111"</span>;</span><br><span class="line">$b = &amp;$a;</span><br><span class="line"><span class="keyword">echo</span> $a; <span class="comment">// 这里输出:111</span></span><br><span class="line"><span class="keyword">echo</span> $b; <span class="comment">// 这里输出:111</span></span><br><span class="line">$b=<span class="string">"222"</span>;</span><br><span class="line"><span class="keyword">echo</span> $a; <span class="comment">// 这里$a的值变为222 所以输出222 echo $b;//这里输出222</span></span><br></pre></td></tr></table></figure></p><p>￼</p><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">demo</span><span class="params">(&amp;$a)</span></span>&#123;</span><br><span class="line">    $a = $a + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line">$b = <span class="number">100</span>;</span><br><span class="line"><span class="keyword">echo</span> $b; <span class="comment">// 100</span></span><br><span class="line">demo($b);  <span class="comment">//$b的内存地址</span></span><br><span class="line"><span class="keyword">echo</span> $b; <span class="comment">// 101</span></span><br></pre></td></tr></table></figure><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> &amp;<span class="title">test</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="keyword">static</span> $b=<span class="number">0</span>;<span class="comment">//申明一个静态变量</span></span><br><span class="line">    $b=$b+<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">echo</span> $b;</span><br><span class="line">    <span class="keyword">return</span> $b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;php的引用–在变量或者函数、对象等前面加上&amp;amp;符号,允许两个变量来指向同一个内容&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="php" scheme="https://www.stanye.com/blog/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>使用using关键字对连接进行简化</title>
    <link href="https://www.stanye.com/blog/2017/04/29/sql-using.html"/>
    <id>https://www.stanye.com/blog/2017/04/29/sql-using.html</id>
    <published>2017-04-29T06:39:10.000Z</published>
    <updated>2019-04-11T03:10:47.968Z</updated>
    
    <content type="html"><![CDATA[<p>USING进行简化：<br>   1、查询必须是等连接的<br>   2、等连接中的列必须是同名<br><a id="more"></a><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> aname, bname  </span><br><span class="line"><span class="keyword">from</span> a <span class="keyword">inner</span> <span class="keyword">join</span> b  </span><br><span class="line"><span class="keyword">using</span>(<span class="keyword">category</span>)</span><br></pre></td></tr></table></figure></p><p>在使用using是需要注意以下几个问题<br>   1、在select子句中只能指定该列名，不能使用表名或别名<br>   2、在using子句中也只能单独使用列名<br>对于多与两个表的连接<br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> c.c_name, p.p_name , f.f_name</span><br><span class="line"><span class="keyword">from</span> ctable c, ptable p, ftable f</span><br><span class="line"><span class="keyword">where</span> c.user_id = f.user_id</span><br><span class="line"><span class="keyword">and</span> p.p_id = f.p_id  </span><br><span class="line"><span class="keyword">and</span> p.type_id = f.type_id;</span><br></pre></td></tr></table></figure></p><p>使用using对上面的sql语句进行重写</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> c.c_name, p.p_name, f.type  </span><br><span class="line"><span class="keyword">from</span> ctable c <span class="keyword">inner</span> <span class="keyword">join</span> ftable f  </span><br><span class="line"><span class="keyword">using</span>(user_id)  </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> ptable p  </span><br><span class="line"><span class="keyword">using</span>(p_id)  </span><br><span class="line"><span class="keyword">inner</span> <span class="keyword">join</span> ftable f  </span><br><span class="line"><span class="keyword">using</span>(type_id);</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;USING进行简化：&lt;br&gt;   1、查询必须是等连接的&lt;br&gt;   2、等连接中的列必须是同名&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="mysql" scheme="https://www.stanye.com/blog/tags/mysql/"/>
    
      <category term="using" scheme="https://www.stanye.com/blog/tags/using/"/>
    
  </entry>
  
  <entry>
    <title>mysql-simple-usage</title>
    <link href="https://www.stanye.com/blog/2017/04/28/mysql-simple-usage.html"/>
    <id>https://www.stanye.com/blog/2017/04/28/mysql-simple-usage.html</id>
    <published>2017-04-28T06:16:57.000Z</published>
    <updated>2019-04-30T08:03:46.409Z</updated>
    
    <content type="html"><![CDATA[<h2 id="连接mysql"><a href="#连接mysql" class="headerlink" title="连接mysql"></a>连接mysql</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -h&#123;server host address&#125; -u&#123;username&#125; －p&#123;password&#125;</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="修改密码"><a href="#修改密码" class="headerlink" title="修改密码"></a>修改密码</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqladmin -u&#123;username&#125; -p&#123;oldpassword&#125; password&#123;newpassword&#125;</span><br></pre></td></tr></table></figure><h2 id="增加新用户"><a href="#增加新用户" class="headerlink" title="增加新用户"></a>增加新用户</h2><p>  已经进入mysql<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grant select on &#123;dbname&#125;.* to &#123;username&#125;@&#123;host&#125; identified by &quot;&#123;password&#125;&quot;</span><br></pre></td></tr></table></figure></p><p>  但是为了防止host远程可以连接，一般只开放host配置到localhost，即先登录到服务器，再连接本机mysql</p><h2 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">// 显示数据库</span><br><span class="line">show databases;</span><br><span class="line"></span><br><span class="line">// 显示表</span><br><span class="line">use &#123;某个database&#125;;</span><br><span class="line">show tables;</span><br><span class="line"></span><br><span class="line">// 显示某个表结构</span><br><span class="line">desc &#123;表名&#125;;</span><br><span class="line"></span><br><span class="line">// 建库</span><br><span class="line">create database &#123;dbname&#125;;</span><br><span class="line"></span><br><span class="line">// 建表</span><br><span class="line">create table &#123;tablename&#125; (&#123;`id`....,`name`...&#125;);</span><br><span class="line"></span><br><span class="line">// 删库</span><br><span class="line">drop database &#123;dbname&#125;;</span><br><span class="line"></span><br><span class="line">// 删表</span><br><span class="line">drop table &#123;tablename&#125;;</span><br><span class="line"></span><br><span class="line">// 增删改查等不做赘述</span><br><span class="line"></span><br><span class="line">// 增加字段</span><br><span class="line">alter table dbname add column &#123;字段名&#125;</span><br><span class="line"></span><br><span class="line">// 修改字段</span><br><span class="line">alter table dbname change &#123;字段名&#125; &#123;新字段名&#125;</span><br><span class="line"></span><br><span class="line">// 删除字段</span><br><span class="line">alter table dbname drop column &#123;字段名&#125;</span><br></pre></td></tr></table></figure><h2 id="导出数据"><a href="#导出数据" class="headerlink" title="导出数据"></a>导出数据</h2>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysqldump &#123;dbname&#125; &gt; jiaoben.mysql</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;连接mysql&quot;&gt;&lt;a href=&quot;#连接mysql&quot; class=&quot;headerlink&quot; title=&quot;连接mysql&quot;&gt;&lt;/a&gt;连接mysql&lt;/h2&gt;  &lt;figure class=&quot;highlight plain&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;mysql -h&amp;#123;server host address&amp;#125; -u&amp;#123;username&amp;#125; －p&amp;#123;password&amp;#125;&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="mysql" scheme="https://www.stanye.com/blog/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>mysql给表赋权</title>
    <link href="https://www.stanye.com/blog/2017/04/04/mysql-grant.html"/>
    <id>https://www.stanye.com/blog/2017/04/04/mysql-grant.html</id>
    <published>2017-04-04T03:22:52.000Z</published>
    <updated>2019-04-11T03:08:48.884Z</updated>
    
    <content type="html"><![CDATA[<p>mysql赋权：<br><a id="more"></a><br><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">grant</span> <span class="keyword">drop</span> <span class="keyword">on</span> sch_m.common_member <span class="keyword">to</span> dev@<span class="string">'localhost'</span></span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;mysql赋权：&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="mysql" scheme="https://www.stanye.com/blog/tags/mysql/"/>
    
  </entry>
  
  <entry>
    <title>css两行截取</title>
    <link href="https://www.stanye.com/blog/2017/04/03/css-cut-2-line.html"/>
    <id>https://www.stanye.com/blog/2017/04/03/css-cut-2-line.html</id>
    <published>2017-04-03T08:30:22.000Z</published>
    <updated>2019-04-11T03:08:00.715Z</updated>
    
    <content type="html"><![CDATA[<p>css两行截取解决办法：<br><a id="more"></a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">overflow</span>: <span class="selector-tag">hidden</span>;</span><br><span class="line"><span class="selector-tag">text-overflow</span>: <span class="selector-tag">ellipsis</span>;</span><br><span class="line"><span class="selector-tag">display</span>: <span class="selector-tag">-webkit-box</span>;</span><br><span class="line"><span class="selector-tag">-webkit-line-clamp</span>: 2;</span><br><span class="line"><span class="selector-tag">-webkit-box-orient</span>: <span class="selector-tag">vertical</span>;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;css两行截取解决办法：&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="css" scheme="https://www.stanye.com/blog/tags/css/"/>
    
  </entry>
  
  <entry>
    <title>table文字溢出控制</title>
    <link href="https://www.stanye.com/blog/2017/04/03/css-fix-table-wrap.html"/>
    <id>https://www.stanye.com/blog/2017/04/03/css-fix-table-wrap.html</id>
    <published>2017-04-03T04:30:22.000Z</published>
    <updated>2019-04-11T03:08:07.053Z</updated>
    
    <content type="html"><![CDATA[<p>table换行解决办法：<br><a id="more"></a></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">table</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100px</span>;</span><br><span class="line">    <span class="attribute">table-layout</span>:fixed;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-tag">td</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>:<span class="number">100%</span>;</span><br><span class="line">    <span class="attribute">word-break</span>:keep-all;</span><br><span class="line">    <span class="attribute">white-space</span>:nowrap;</span><br><span class="line">    <span class="attribute">overflow</span>:hidden;</span><br><span class="line">    <span class="attribute">text-overflow</span>:ellipsis;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;table换行解决办法：&lt;br&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="css" scheme="https://www.stanye.com/blog/tags/css/"/>
    
      <category term="table" scheme="https://www.stanye.com/blog/tags/table/"/>
    
  </entry>
  
  <entry>
    <title>php file_put_contents 函数</title>
    <link href="https://www.stanye.com/blog/2017/03/28/php-file_put_contents.html"/>
    <id>https://www.stanye.com/blog/2017/03/28/php-file_put_contents.html</id>
    <published>2017-03-28T01:21:11.000Z</published>
    <updated>2019-04-11T03:08:59.547Z</updated>
    
    <content type="html"><![CDATA[<p>file_put_contents()功能函数（集成了fopen、fwrite、fclose) 将一个字符串写入文件.<br><a id="more"></a><br><figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">int file_put_contents ( string filename, string data [, int flags [, resource context]] )</span><br></pre></td></tr></table></figure></p><p>和依次调用 fopen()，fwrite() 以及 fclose() 功能一样。<br>参数 data 可以是数组，这就相当于 file_put_contents($filename, join(‘’, $array))</p><ol><li>filename 要被写入数据的文件名。 </li><li>data 要写入的数据。类型可以是 string，array 或者是 stream 资源（如上面所说的那样）。 </li><li>flags 可以是 FILE_USE_INCLUDE_PATH，FILE_APPEND 和／或 LOCK_EX（获得一个独占锁定），然而使用 FILE_USE_INCLUDE_PATH 时要特别谨慎。 </li><li>context 一个 context 资源。</li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;file_put_contents()功能函数（集成了fopen、fwrite、fclose) 将一个字符串写入文件.&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="php" scheme="https://www.stanye.com/blog/tags/php/"/>
    
  </entry>
  
  <entry>
    <title>sql note</title>
    <link href="https://www.stanye.com/blog/2017/03/27/sql-join.html"/>
    <id>https://www.stanye.com/blog/2017/03/27/sql-join.html</id>
    <published>2017-03-27T10:30:22.000Z</published>
    <updated>2019-04-26T08:53:39.763Z</updated>
    
    <content type="html"><![CDATA[<h2 id="left-join-right-join-inner-join"><a href="#left-join-right-join-inner-join" class="headerlink" title="left-join/right join/inner join"></a>left-join/right join/inner join</h2><a id="more"></a><ol><li>left join(左联接) 返回包括左表中的所有记录和右表中联结字段相等的记录.right join(右联接) 返回包括右表中的所有记录和左表中联结字段相等的记录. inner join(等值联接) 只返回两个表中联结字段相等的行.</li><li>left join是以A表的记录为基础的,A可以看成左表,B可以看成右表,left join是以左表为准的.左表(A)的记录将会全部表示出来,而右表(B)只会显示符合搜索条件的记录.B表记录不足的地方均为NULL.LEFT JOIN操作用于在任何的 FROM 子句中，组合来源表的记录。使用 LEFT JOIN 运算来创建一个左边外部联接。左边外部联接将包含了从第一个（左边）开始的两个表中的全部记录，即使在第二个（右边）表中并没有相符值的记录</li><li>right join和left join的结果刚好相反,这次是以右表(B)为基础的,A表不足的地方用NULL填充.</li><li>inner join并不以谁为基础,它只显示符合条件的记录</li></ol><h2 id="limit"><a href="#limit" class="headerlink" title="limit"></a>limit</h2><ol><li><p>取出第一条记录。</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tablename <span class="keyword">limit</span> <span class="number">0</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>第二条记录</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tablename <span class="keyword">limit</span> <span class="number">1</span>,<span class="number">1</span></span><br></pre></td></tr></table></figure></li><li><p>从第11条到31条（共计20条）</p> <figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> * <span class="keyword">from</span> tablename <span class="keyword">limit</span> <span class="number">10</span>,<span class="number">20</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;left-join-right-join-inner-join&quot;&gt;&lt;a href=&quot;#left-join-right-join-inner-join&quot; class=&quot;headerlink&quot; title=&quot;left-join/right join/inner join&quot;&gt;&lt;/a&gt;left-join/right join/inner join&lt;/h2&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="mysql" scheme="https://www.stanye.com/blog/tags/mysql/"/>
    
      <category term="sql" scheme="https://www.stanye.com/blog/tags/sql/"/>
    
  </entry>
  
  <entry>
    <title>php抽象类</title>
    <link href="https://www.stanye.com/blog/2017/03/27/php-abstract-class.html"/>
    <id>https://www.stanye.com/blog/2017/03/27/php-abstract-class.html</id>
    <published>2017-03-27T06:56:20.000Z</published>
    <updated>2019-05-13T07:38:47.392Z</updated>
    
    <content type="html"><![CDATA[<p>php抽象类:</p><ol><li>PHP5支持抽象类和抽象方法。</li><li>抽象类不能被实例化，必须先继承再实例化。<a id="more"></a></li><li><p>继承抽象类, 子类必须全部实现抽象类中的方法, 而且public、private、protected只能高不能低</p> <figure class="highlight php"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="class"><span class="keyword">class</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// 强制要求子类定义这些方法</span></span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span></span>;</span><br><span class="line">    <span class="keyword">abstract</span> <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span></span>;</span><br><span class="line">    <span class="comment">// 普通方法（非抽象方法）</span></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">printOut</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">print</span> <span class="keyword">$this</span>-&gt;getValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass1</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ConcreteClass1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;$prefix&#125;ConcreteClass1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ConcreteClass2</span> <span class="keyword">extends</span> <span class="title">AbstractClass</span></span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">getValue</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"ConcreteClass2"</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="function"><span class="keyword">function</span> <span class="title">prefixValue</span><span class="params">($prefix)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">"&#123;$prefix&#125;ConcreteClass1"</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$class1 = <span class="keyword">new</span> ConcreteClass1;</span><br><span class="line">$class1-&gt;printOut();</span><br><span class="line"><span class="keyword">echo</span> $class1-&gt;prefixValue(<span class="string">'FOO_'</span>) .<span class="string">"\n"</span>;</span><br><span class="line"></span><br><span class="line">$class2 = <span class="keyword">new</span> ConcreteClass2;</span><br><span class="line">$class2-&gt;printOut();</span><br><span class="line"><span class="keyword">echo</span> $class2-&gt;prefixValue(<span class="string">'FOO_'</span>) .<span class="string">"\n"</span>;</span><br></pre></td></tr></table></figure><p> 以上例程会输出：<br> ConcreteClass1<br> FOO_ConcreteClass1<br> ConcreteClass2<br> FOO_ConcreteClass2<br> 抽象类的子类中的普通方法执行方式和其他类相同</p></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;php抽象类:&lt;/p&gt;
&lt;ol&gt;
&lt;li&gt;PHP5支持抽象类和抽象方法。&lt;/li&gt;
&lt;li&gt;抽象类不能被实例化，必须先继承再实例化。
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="php" scheme="https://www.stanye.com/blog/tags/php/"/>
    
      <category term="abstract class" scheme="https://www.stanye.com/blog/tags/abstract-class/"/>
    
  </entry>
  
  <entry>
    <title>jQuery判断页面滚动到底/到顶</title>
    <link href="https://www.stanye.com/blog/2016/09/30/jquery-scrollTop.html"/>
    <id>https://www.stanye.com/blog/2016/09/30/jquery-scrollTop.html</id>
    <published>2016-09-30T07:12:19.000Z</published>
    <updated>2019-04-30T08:04:12.018Z</updated>
    
    <content type="html"><![CDATA[<h2 id="概念"><a href="#概念" class="headerlink" title="概念"></a>概念</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 垂直滚动条</span></span><br><span class="line">$(<span class="built_in">document</span>).scrollTop()</span><br><span class="line"><span class="comment">// 水平滚动条</span></span><br><span class="line">$(<span class="built_in">document</span>).scrollLeft()</span><br><span class="line"><span class="comment">// 页面高度</span></span><br><span class="line">$(<span class="built_in">document</span>).height()</span><br><span class="line"><span class="comment">// 浏览器窗口高度</span></span><br><span class="line">$(<span class="built_in">window</span>).height()</span><br></pre></td></tr></table></figure><a id="more"></a><h2 id="实现"><a href="#实现" class="headerlink" title="实现"></a>实现</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 到顶</span></span><br><span class="line">$(<span class="built_in">document</span>).scrollTop() == <span class="number">0</span></span><br><span class="line"><span class="comment">// 到底</span></span><br><span class="line">$(<span class="built_in">document</span>).scrollTop() &gt;= $(<span class="built_in">document</span>).height() - $(<span class="built_in">window</span>).height()</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;h2 id=&quot;概念&quot;&gt;&lt;a href=&quot;#概念&quot; class=&quot;headerlink&quot; title=&quot;概念&quot;&gt;&lt;/a&gt;概念&lt;/h2&gt;&lt;figure class=&quot;highlight javascript&quot;&gt;&lt;table&gt;&lt;tr&gt;&lt;td class=&quot;gutter&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;1&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;2&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;3&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;4&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;5&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;6&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;7&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;8&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;td class=&quot;code&quot;&gt;&lt;pre&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 垂直滚动条&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).scrollTop()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 水平滚动条&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).scrollLeft()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 页面高度&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;document&lt;/span&gt;).height()&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;&lt;span class=&quot;comment&quot;&gt;// 浏览器窗口高度&lt;/span&gt;&lt;/span&gt;&lt;br&gt;&lt;span class=&quot;line&quot;&gt;$(&lt;span class=&quot;built_in&quot;&gt;window&lt;/span&gt;).height()&lt;/span&gt;&lt;br&gt;&lt;/pre&gt;&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;&lt;/figure&gt;
    
    </summary>
    
      <category term="FrontEnd" scheme="https://www.stanye.com/blog/categories/FrontEnd/"/>
    
    
      <category term="javascript" scheme="https://www.stanye.com/blog/tags/javascript/"/>
    
      <category term="jquery" scheme="https://www.stanye.com/blog/tags/jquery/"/>
    
  </entry>
  
  <entry>
    <title>regex in my program</title>
    <link href="https://www.stanye.com/blog/2016/07/15/regex-used.html"/>
    <id>https://www.stanye.com/blog/2016/07/15/regex-used.html</id>
    <published>2016-07-15T03:41:43.000Z</published>
    <updated>2019-04-30T08:04:59.954Z</updated>
    
    <content type="html"><![CDATA[<p>用到的一些正则记录：<br><a id="more"></a></p><ol><li>匹配&gt;&lt; <code>&gt;[\s]+&lt;</code></li><li><p>匹配反斜杠(匹配一个反斜杠要用四个反斜杠)</p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">\\\\</span><br></pre></td></tr></table></figure><ol><li>字符串里面表示斜杠就需要两个斜杠<code>\\</code></li><li>正则表达式里的斜杠需要转意，是用<code>\\</code>标示。</li><li>第一个斜杠是转义符，第二个斜杠是斜杠本身，第三个斜杠是转义符，第四个斜杠是斜杠本身</li></ol></li><li><p>密码校验</p></li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PASSWORD_PATTERN = <span class="string">"^(?![a-zA-z]+$)(?!\\d+$)(?![!\"#$%&amp;#$%&amp;amp;'()*+,-./:;&amp;#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@\\[\\]^_`&#123;|&#125;~]+$)[a-zA-Z\\d!\"#$%&amp;#$%&amp;amp;'()*+,-./:;&amp;#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;#$%&amp;amp;'()*+,-./:;&amp;lt;=&amp;gt;?@\\[\\]^_`&#123;|&#125;~]&#123;6,16&#125;$"</span>;</span><br></pre></td></tr></table></figure><ol start="4"><li><p>input标签验证</p> <figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">// 只能输入英文</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">onkeyup</span>=<span class="string">"value=value.replace(/[^a-zA-Z]/g,'')"</span> /&gt;</span></span><br><span class="line">// 无法粘贴</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">onkeydown</span>=<span class="string">"fncKeyStop(event)"</span> <span class="attr">onpaste</span>=<span class="string">"return false"</span> /&gt;</span></span><br><span class="line">// 屏蔽右键</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">oncontextmenu</span>=<span class="string">"return false"</span> /&gt;</span></span><br><span class="line">// 只能输入数字</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">onkeyup</span>=<span class="string">"this.value=this.value.replace(/\D/g,'')"</span> /&gt;</span></span><br><span class="line">// 只能输入数字，小数点：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">onkeyup</span>=<span class="string">"value=value.replace(/[^\d\.]/g,'')"</span>&gt;</span> /&gt;</span><br><span class="line">// 只能输入数字，小数点，下划线：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">onkeyup</span>=<span class="string">"value=value.replace(/[^\d\._]/g,'')"</span> /&gt;</span></span><br><span class="line">// 只能输入汉字：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onkeyup</span>=<span class="string">"value=value.replace(/[^\u4E00-\u9FA5]/g,'')"</span> </span></span><br><span class="line"><span class="tag"><span class="attr">onbeforepaste</span>=<span class="string">"clipboardData.setData('text',clipboardData.getData('text').replace(/[^\u4E00-\u9FA5]/g,''))"</span>&gt;</span></span><br><span class="line">// 禁止输入法输入：</span><br><span class="line"><span class="tag">&lt;<span class="name">input</span> <span class="attr">type</span>=<span class="string">"text"</span> <span class="attr">style</span>=<span class="string">"ime-mode: disabled"</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ol>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;用到的一些正则记录：&lt;br&gt;
    
    </summary>
    
      <category term="BackEnd" scheme="https://www.stanye.com/blog/categories/BackEnd/"/>
    
    
      <category term="regex" scheme="https://www.stanye.com/blog/tags/regex/"/>
    
  </entry>
  
</feed>
